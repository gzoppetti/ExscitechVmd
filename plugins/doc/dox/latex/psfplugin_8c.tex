\section{psfplugin.c File Reference}
\label{psfplugin_8c}\index{psfplugin.c@{psfplugin.c}}
{\tt \#include \char`\"{}molfile\_\-plugin.h\char`\"{}}\par
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
\subsection*{Compounds}
\begin{CompactItemize}
\item 
struct {\bf psfdata}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf PSF\_\-RECORD\_\-LENGTH}\ 160
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
int {\bf get\_\-psf\_\-atom} (FILE $\ast$f, char $\ast${\bf name}, char $\ast$atype, char $\ast$resname, char $\ast$segname, int $\ast$resid, float $\ast$q, float $\ast$m, int charmmext)
\item 
int {\bf start\_\-psf\_\-bonds} (FILE $\ast$f)
\item 
int {\bf get\_\-psf\_\-bonds} (FILE $\ast$f, int nbond, int from\-Atom[$\,$], int to\-Atom[$\,$], int charmmext)
\item 
void $\ast$ {\bf open\_\-psf\_\-read} (const char $\ast$path, const char $\ast${\bf filetype}, int $\ast$natoms)
\item 
int {\bf read\_\-psf} (void $\ast$v, int $\ast$optflags, {\bf molfile\_\-atom\_\-t} $\ast$atoms)
\item 
int {\bf read\_\-bonds} (void $\ast$v, int $\ast$nbonds, int $\ast$$\ast$fromptr, int $\ast$$\ast$toptr, float $\ast$$\ast$bondorder)
\item 
void {\bf close\_\-psf\_\-read} (void $\ast$mydata)
\item 
void $\ast$ {\bf open\_\-psf\_\-write} (const char $\ast$path, const char $\ast${\bf filetype}, int natoms)
\item 
int {\bf write\_\-psf\_\-structure} (void $\ast$v, int optflags, const {\bf molfile\_\-atom\_\-t} $\ast$atoms)
\item 
int {\bf write\_\-bonds} (void $\ast$v, int nbonds, int $\ast$fromptr, int $\ast$toptr, float $\ast$bondorderptr)
\item 
void {\bf close\_\-psf\_\-write} (void $\ast$v)
\item 
VMDPLUGIN\_\-API int {\bf VMDPLUGIN\_\-init} ()
\item 
VMDPLUGIN\_\-API int {\bf VMDPLUGIN\_\-register} (void $\ast$v, {\bf vmdplugin\_\-register\_\-cb} cb)
\item 
VMDPLUGIN\_\-API int {\bf VMDPLUGIN\_\-fini} ()
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
{\bf molfile\_\-plugin\_\-t} {\bf plugin}
\end{CompactItemize}


\subsection{Define Documentation}
\index{psfplugin.c@{psfplugin.c}!PSF_RECORD_LENGTH@{PSF\_\-RECORD\_\-LENGTH}}
\index{PSF_RECORD_LENGTH@{PSF\_\-RECORD\_\-LENGTH}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define PSF\_\-RECORD\_\-LENGTH\ 160}\label{psfplugin_8c_a0}




Definition at line 24 of file psfplugin.c.

Referenced by get\_\-psf\_\-atom, get\_\-psf\_\-bonds, open\_\-psf\_\-read, and start\_\-psf\_\-bonds.

\subsection{Function Documentation}
\index{psfplugin.c@{psfplugin.c}!close_psf_read@{close\_\-psf\_\-read}}
\index{close_psf_read@{close\_\-psf\_\-read}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void close\_\-psf\_\-read (void $\ast$ {\em mydata})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a8}




Definition at line 306 of file psfplugin.c.

References psfdata::fp, psfdata::from, and psfdata::to.\index{psfplugin.c@{psfplugin.c}!close_psf_write@{close\_\-psf\_\-write}}
\index{close_psf_write@{close\_\-psf\_\-write}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void close\_\-psf\_\-write (void $\ast$ {\em v})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a12}




Definition at line 454 of file psfplugin.c.

References psfdata::fp, psfdata::from, and psfdata::to.\index{psfplugin.c@{psfplugin.c}!get_psf_atom@{get\_\-psf\_\-atom}}
\index{get_psf_atom@{get\_\-psf\_\-atom}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int get\_\-psf\_\-atom (FILE $\ast$ {\em f}, char $\ast$ {\em name}, char $\ast$ {\em atype}, char $\ast$ {\em resname}, char $\ast$ {\em segname}, int $\ast$ {\em resid}, float $\ast$ {\em q}, float $\ast$ {\em m}, int {\em charmmext})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a2}




Definition at line 42 of file psfplugin.c.

References name, and PSF\_\-RECORD\_\-LENGTH.

Referenced by read\_\-psf.\index{psfplugin.c@{psfplugin.c}!get_psf_bonds@{get\_\-psf\_\-bonds}}
\index{get_psf_bonds@{get\_\-psf\_\-bonds}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int get\_\-psf\_\-bonds (FILE $\ast$ {\em f}, int {\em nbond}, int {\em from\-Atom}[$\,$], int {\em to\-Atom}[$\,$], int {\em charmmext})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a4}




Definition at line 144 of file psfplugin.c.

References PSF\_\-RECORD\_\-LENGTH.

Referenced by read\_\-bonds.\index{psfplugin.c@{psfplugin.c}!open_psf_read@{open\_\-psf\_\-read}}
\index{open_psf_read@{open\_\-psf\_\-read}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ open\_\-psf\_\-read (const char $\ast$ {\em path}, const char $\ast$ {\em filetype}, int $\ast$ {\em natoms})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a5}




Definition at line 185 of file psfplugin.c.

References psfdata::charmmcheq, psfdata::charmmcmap, psfdata::charmmext, psfdata::charmmfmt, psfdata::fp, MOLFILE\_\-NUMATOMS\_\-NONE, psfdata::numatoms, and PSF\_\-RECORD\_\-LENGTH.\index{psfplugin.c@{psfplugin.c}!open_psf_write@{open\_\-psf\_\-write}}
\index{open_psf_write@{open\_\-psf\_\-write}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ open\_\-psf\_\-write (const char $\ast$ {\em path}, const char $\ast$ {\em filetype}, int {\em natoms})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a9}




Definition at line 320 of file psfplugin.c.

References psfdata::charmmfmt, psfdata::fp, psfdata::from, psfdata::nbonds, psfdata::numatoms, and psfdata::to.\index{psfplugin.c@{psfplugin.c}!read_bonds@{read\_\-bonds}}
\index{read_bonds@{read\_\-bonds}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int read\_\-bonds (void $\ast$ {\em v}, int $\ast$ {\em nbonds}, int $\ast$$\ast$ {\em fromptr}, int $\ast$$\ast$ {\em toptr}, float $\ast$$\ast$ {\em bondorder})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a7}




Definition at line 280 of file psfplugin.c.

References psfdata::charmmext, psfdata::fp, psfdata::from, get\_\-psf\_\-bonds, MOLFILE\_\-ERROR, MOLFILE\_\-SUCCESS, start\_\-psf\_\-bonds, and psfdata::to.\index{psfplugin.c@{psfplugin.c}!read_psf@{read\_\-psf}}
\index{read_psf@{read\_\-psf}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int read\_\-psf (void $\ast$ {\em v}, int $\ast$ {\em optflags}, {\bf molfile\_\-atom\_\-t} $\ast$ {\em atoms})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a6}




Definition at line 256 of file psfplugin.c.

References molfile\_\-atom\_\-t::chain, molfile\_\-atom\_\-t::charge, psfdata::charmmext, psfdata::fp, get\_\-psf\_\-atom, molfile\_\-atom\_\-t::mass, MOLFILE\_\-CHARGE, MOLFILE\_\-ERROR, MOLFILE\_\-MASS, MOLFILE\_\-SUCCESS, molfile\_\-atom\_\-t::name, psfdata::numatoms, molfile\_\-atom\_\-t::resid, molfile\_\-atom\_\-t::resname, molfile\_\-atom\_\-t::segid, and molfile\_\-atom\_\-t::type.\index{psfplugin.c@{psfplugin.c}!start_psf_bonds@{start\_\-psf\_\-bonds}}
\index{start_psf_bonds@{start\_\-psf\_\-bonds}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int start\_\-psf\_\-bonds (FILE $\ast$ {\em f})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a3}




Definition at line 123 of file psfplugin.c.

References PSF\_\-RECORD\_\-LENGTH.

Referenced by read\_\-bonds.\index{psfplugin.c@{psfplugin.c}!VMDPLUGIN_fini@{VMDPLUGIN\_\-fini}}
\index{VMDPLUGIN_fini@{VMDPLUGIN\_\-fini}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}VMDPLUGIN\_\-API int VMDPLUGIN\_\-fini (void)}\label{psfplugin_8c_a15}




Definition at line 506 of file psfplugin.c.

References VMDPLUGIN\_\-API, and VMDPLUGIN\_\-SUCCESS.\index{psfplugin.c@{psfplugin.c}!VMDPLUGIN_init@{VMDPLUGIN\_\-init}}
\index{VMDPLUGIN_init@{VMDPLUGIN\_\-init}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}VMDPLUGIN\_\-API int VMDPLUGIN\_\-init (void)}\label{psfplugin_8c_a13}




Definition at line 497 of file psfplugin.c.

References VMDPLUGIN\_\-API, and VMDPLUGIN\_\-SUCCESS.\index{psfplugin.c@{psfplugin.c}!VMDPLUGIN_register@{VMDPLUGIN\_\-register}}
\index{VMDPLUGIN_register@{VMDPLUGIN\_\-register}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}VMDPLUGIN\_\-API int VMDPLUGIN\_\-register (void $\ast$ {\em v}, {\bf vmdplugin\_\-register\_\-cb} {\em cb})}\label{psfplugin_8c_a14}




Definition at line 501 of file psfplugin.c.

References VMDPLUGIN\_\-API, vmdplugin\_\-register\_\-cb, and VMDPLUGIN\_\-SUCCESS.\index{psfplugin.c@{psfplugin.c}!write_bonds@{write\_\-bonds}}
\index{write_bonds@{write\_\-bonds}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int write\_\-bonds (void $\ast$ {\em v}, int {\em nbonds}, int $\ast$ {\em fromptr}, int $\ast$ {\em toptr}, float $\ast$ {\em bondorderptr})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a11}




Definition at line 440 of file psfplugin.c.

References psfdata::from, MOLFILE\_\-SUCCESS, psfdata::nbonds, and psfdata::to.\index{psfplugin.c@{psfplugin.c}!write_psf_structure@{write\_\-psf\_\-structure}}
\index{write_psf_structure@{write\_\-psf\_\-structure}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int write\_\-psf\_\-structure (void $\ast$ {\em v}, int {\em optflags}, const {\bf molfile\_\-atom\_\-t} $\ast$ {\em atoms})\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a10}




Definition at line 341 of file psfplugin.c.

References molfile\_\-atom\_\-t::charge, psfdata::charmmfmt, psfdata::fp, psfdata::from, molfile\_\-atom\_\-t::mass, MOLFILE\_\-SUCCESS, molfile\_\-atom\_\-t::name, psfdata::nbonds, psfdata::numatoms, molfile\_\-atom\_\-t::resid, molfile\_\-atom\_\-t::resname, molfile\_\-atom\_\-t::segid, psfdata::to, and molfile\_\-atom\_\-t::type.

\subsection{Variable Documentation}
\index{psfplugin.c@{psfplugin.c}!plugin@{plugin}}
\index{plugin@{plugin}!psfplugin.c@{psfplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf molfile\_\-plugin\_\-t} plugin\hspace{0.3cm}{\tt  [static]}}\label{psfplugin_8c_a1}


{\bf Initial value:}

\footnotesize\begin{verbatim} {
  vmdplugin_ABIVERSION,              
  MOLFILE_PLUGIN_TYPE,               
  "psf",                             
  "CHARMM,NAMD,XPLOR PSF",           
  "Justin Gullingsrud, John Stone",  
  0,                                 
  7,                                 
  VMDPLUGIN_THREADSAFE,              
  "psf",                             
  open_psf_read,                     
  read_psf,                          
  read_bonds,                        
  0,                                 
  close_psf_read,                    
  open_psf_write,                    
  write_psf_structure,               
  0,                                 
  close_psf_write,                   
  0,                                 
  0,                                 
  0,                                 
  0,                                 
  write_bonds                        
}\end{verbatim}\normalsize 


Definition at line 471 of file psfplugin.c.