\section{jsplugin.c File Reference}
\label{jsplugin_8c}\index{jsplugin.c@{jsplugin.c}}
{\tt \#include \char`\"{}largefiles.h\char`\"{}}\par
{\tt \#include $<$sys/stat.h$>$}\par
{\tt \#include $<$sys/types.h$>$}\par
{\tt \#include $<$stdio.h$>$}\par
{\tt \#include $<$stdlib.h$>$}\par
{\tt \#include $<$string.h$>$}\par
{\tt \#include $<$math.h$>$}\par
{\tt \#include \char`\"{}fastio.h\char`\"{}}\par
{\tt \#include \char`\"{}endianswap.h\char`\"{}}\par
{\tt \#include \char`\"{}molfile\_\-plugin.h\char`\"{}}\par
\subsection*{Compounds}
\begin{CompactItemize}
\item 
struct {\bf jshandle}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define {\bf M\_\-PI\_\-2}\ 1.57079632679489661922
\item 
\#define {\bf JSHEADERSTRING}\ \char`\"{}JS Binary Trajectory File Format\char`\"{}
\item 
\#define {\bf JSMAGICNUMBER}\ 0x31337
\item 
\#define {\bf JSENDIANISM}\ 0x12345678
\item 
\#define {\bf JSMAJORVERSION}\ 1
\item 
\#define {\bf JSMINORVERSION}\ 0
\item 
\#define {\bf JSNFRAMESOFFSET}\ (strlen(JSHEADERSTRING) + 20)
\item 
\#define {\bf JSNOERR}\ 0
\item 
\#define {\bf JSBADFILE}\ 1
\item 
\#define {\bf JSBADFORMAT}\ 2
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
void $\ast$ {\bf open\_\-js\_\-read} (const char $\ast$path, const char $\ast${\bf filetype}, int $\ast$natoms)
\item 
int {\bf read\_\-js\_\-timestep} (void $\ast$v, int natoms, {\bf molfile\_\-timestep\_\-t} $\ast$ts)
\item 
void {\bf close\_\-js\_\-read} (void $\ast$v)
\item 
void $\ast$ {\bf open\_\-js\_\-write} (const char $\ast$path, const char $\ast${\bf filetype}, int natoms)
\item 
int {\bf write\_\-js\_\-timestep} (void $\ast$v, const {\bf molfile\_\-timestep\_\-t} $\ast$ts)
\item 
void {\bf close\_\-js\_\-write} (void $\ast$v)
\item 
VMDPLUGIN\_\-API int {\bf VMDPLUGIN\_\-init} ()
\item 
VMDPLUGIN\_\-API int {\bf VMDPLUGIN\_\-register} (void $\ast$v, {\bf vmdplugin\_\-register\_\-cb} cb)
\item 
VMDPLUGIN\_\-API int {\bf VMDPLUGIN\_\-fini} ()
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
{\bf molfile\_\-plugin\_\-t} {\bf jsplugin}
\end{CompactItemize}


\subsection{Define Documentation}
\index{jsplugin.c@{jsplugin.c}!JSBADFILE@{JSBADFILE}}
\index{JSBADFILE@{JSBADFILE}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSBADFILE\ 1}\label{jsplugin_8c_a8}




Definition at line 68 of file jsplugin.c.\index{jsplugin.c@{jsplugin.c}!JSBADFORMAT@{JSBADFORMAT}}
\index{JSBADFORMAT@{JSBADFORMAT}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSBADFORMAT\ 2}\label{jsplugin_8c_a9}




Definition at line 69 of file jsplugin.c.\index{jsplugin.c@{jsplugin.c}!JSENDIANISM@{JSENDIANISM}}
\index{JSENDIANISM@{JSENDIANISM}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSENDIANISM\ 0x12345678}\label{jsplugin_8c_a3}




Definition at line 61 of file jsplugin.c.

Referenced by open\_\-js\_\-read, and open\_\-js\_\-write.\index{jsplugin.c@{jsplugin.c}!JSHEADERSTRING@{JSHEADERSTRING}}
\index{JSHEADERSTRING@{JSHEADERSTRING}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSHEADERSTRING\ \char`\"{}JS Binary Trajectory File Format\char`\"{}}\label{jsplugin_8c_a1}




Definition at line 59 of file jsplugin.c.

Referenced by open\_\-js\_\-read, and open\_\-js\_\-write.\index{jsplugin.c@{jsplugin.c}!JSMAGICNUMBER@{JSMAGICNUMBER}}
\index{JSMAGICNUMBER@{JSMAGICNUMBER}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSMAGICNUMBER\ 0x31337}\label{jsplugin_8c_a2}




Definition at line 60 of file jsplugin.c.

Referenced by open\_\-js\_\-read, and open\_\-js\_\-write.\index{jsplugin.c@{jsplugin.c}!JSMAJORVERSION@{JSMAJORVERSION}}
\index{JSMAJORVERSION@{JSMAJORVERSION}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSMAJORVERSION\ 1}\label{jsplugin_8c_a4}




Definition at line 62 of file jsplugin.c.

Referenced by open\_\-js\_\-write.\index{jsplugin.c@{jsplugin.c}!JSMINORVERSION@{JSMINORVERSION}}
\index{JSMINORVERSION@{JSMINORVERSION}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSMINORVERSION\ 0}\label{jsplugin_8c_a5}




Definition at line 63 of file jsplugin.c.

Referenced by open\_\-js\_\-write.\index{jsplugin.c@{jsplugin.c}!JSNFRAMESOFFSET@{JSNFRAMESOFFSET}}
\index{JSNFRAMESOFFSET@{JSNFRAMESOFFSET}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSNFRAMESOFFSET\ (strlen(JSHEADERSTRING) + 20)}\label{jsplugin_8c_a6}




Definition at line 65 of file jsplugin.c.

Referenced by close\_\-js\_\-write.\index{jsplugin.c@{jsplugin.c}!JSNOERR@{JSNOERR}}
\index{JSNOERR@{JSNOERR}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define JSNOERR\ 0}\label{jsplugin_8c_a7}




Definition at line 67 of file jsplugin.c.\index{jsplugin.c@{jsplugin.c}!M_PI_2@{M\_\-PI\_\-2}}
\index{M_PI_2@{M\_\-PI\_\-2}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define M\_\-PI\_\-2\ 1.57079632679489661922}\label{jsplugin_8c_a0}




Definition at line 56 of file jsplugin.c.

Referenced by read\_\-js\_\-timestep, and write\_\-js\_\-timestep.

\subsection{Function Documentation}
\index{jsplugin.c@{jsplugin.c}!close_js_read@{close\_\-js\_\-read}}
\index{close_js_read@{close\_\-js\_\-read}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void close\_\-js\_\-read (void $\ast$ {\em v})\hspace{0.3cm}{\tt  [static]}}\label{jsplugin_8c_a13}




Definition at line 193 of file jsplugin.c.

References jshandle::fd, and fio\_\-fclose.\index{jsplugin.c@{jsplugin.c}!close_js_write@{close\_\-js\_\-write}}
\index{close_js_write@{close\_\-js\_\-write}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void close\_\-js\_\-write (void $\ast$ {\em v})\hspace{0.3cm}{\tt  [static]}}\label{jsplugin_8c_a16}




Definition at line 253 of file jsplugin.c.

References jshandle::fd, fio\_\-fclose, fio\_\-fseek, FIO\_\-SEEK\_\-END, FIO\_\-SEEK\_\-SET, fio\_\-write\_\-int32, JSNFRAMESOFFSET, and jshandle::nframes.\index{jsplugin.c@{jsplugin.c}!open_js_read@{open\_\-js\_\-read}}
\index{open_js_read@{open\_\-js\_\-read}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ open\_\-js\_\-read (const char $\ast$ {\em path}, const char $\ast$ {\em filetype}, int $\ast$ {\em natoms})\hspace{0.3cm}{\tt  [static]}}\label{jsplugin_8c_a11}




Definition at line 80 of file jsplugin.c.

References jshandle::fd, fio\_\-fclose, fio\_\-fread, fio\_\-open, FIO\_\-READ, fio\_\-read\_\-int32, JSENDIANISM, JSHEADERSTRING, JSMAGICNUMBER, jshandle::natoms, jshandle::nframes, jshandle::reverse, and swap4\_\-aligned.\index{jsplugin.c@{jsplugin.c}!open_js_write@{open\_\-js\_\-write}}
\index{open_js_write@{open\_\-js\_\-write}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ open\_\-js\_\-write (const char $\ast$ {\em path}, const char $\ast$ {\em filetype}, int {\em natoms})\hspace{0.3cm}{\tt  [static]}}\label{jsplugin_8c_a14}




Definition at line 200 of file jsplugin.c.

References jshandle::fd, fio\_\-open, FIO\_\-WRITE, fio\_\-write\_\-int32, fio\_\-write\_\-str, JSENDIANISM, JSHEADERSTRING, JSMAGICNUMBER, JSMAJORVERSION, JSMINORVERSION, jshandle::natoms, jshandle::nframes, and jshandle::with\_\-unitcell.\index{jsplugin.c@{jsplugin.c}!read_js_timestep@{read\_\-js\_\-timestep}}
\index{read_js_timestep@{read\_\-js\_\-timestep}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int read\_\-js\_\-timestep (void $\ast$ {\em v}, int {\em natoms}, {\bf molfile\_\-timestep\_\-t} $\ast$ {\em ts})\hspace{0.3cm}{\tt  [static]}}\label{jsplugin_8c_a12}




Definition at line 143 of file jsplugin.c.

References molfile\_\-timestep\_\-t::A, molfile\_\-timestep\_\-t::alpha, molfile\_\-timestep\_\-t::B, molfile\_\-timestep\_\-t::beta, molfile\_\-timestep\_\-t::C, molfile\_\-timestep\_\-t::coords, jshandle::fd, fio\_\-fseek, fio\_\-readv, FIO\_\-SEEK\_\-CUR, molfile\_\-timestep\_\-t::gamma, fio\_\-iovec::iov\_\-base, fio\_\-iovec::iov\_\-len, M\_\-PI\_\-2, MOLFILE\_\-EOF, MOLFILE\_\-SUCCESS, jshandle::reverse, swap4\_\-aligned, and swap8\_\-aligned.\index{jsplugin.c@{jsplugin.c}!VMDPLUGIN_fini@{VMDPLUGIN\_\-fini}}
\index{VMDPLUGIN_fini@{VMDPLUGIN\_\-fini}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}VMDPLUGIN\_\-API int VMDPLUGIN\_\-fini (void)}\label{jsplugin_8c_a19}




Definition at line 302 of file jsplugin.c.

References VMDPLUGIN\_\-API, and VMDPLUGIN\_\-SUCCESS.\index{jsplugin.c@{jsplugin.c}!VMDPLUGIN_init@{VMDPLUGIN\_\-init}}
\index{VMDPLUGIN_init@{VMDPLUGIN\_\-init}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}VMDPLUGIN\_\-API int VMDPLUGIN\_\-init (void)}\label{jsplugin_8c_a17}




Definition at line 293 of file jsplugin.c.

References VMDPLUGIN\_\-API, and VMDPLUGIN\_\-SUCCESS.\index{jsplugin.c@{jsplugin.c}!VMDPLUGIN_register@{VMDPLUGIN\_\-register}}
\index{VMDPLUGIN_register@{VMDPLUGIN\_\-register}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}VMDPLUGIN\_\-API int VMDPLUGIN\_\-register (void $\ast$ {\em v}, {\bf vmdplugin\_\-register\_\-cb} {\em cb})}\label{jsplugin_8c_a18}




Definition at line 297 of file jsplugin.c.

References VMDPLUGIN\_\-API, vmdplugin\_\-register\_\-cb, and VMDPLUGIN\_\-SUCCESS.\index{jsplugin.c@{jsplugin.c}!write_js_timestep@{write\_\-js\_\-timestep}}
\index{write_js_timestep@{write\_\-js\_\-timestep}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}int write\_\-js\_\-timestep (void $\ast$ {\em v}, const {\bf molfile\_\-timestep\_\-t} $\ast$ {\em ts})\hspace{0.3cm}{\tt  [static]}}\label{jsplugin_8c_a15}




Definition at line 231 of file jsplugin.c.

References molfile\_\-timestep\_\-t::A, molfile\_\-timestep\_\-t::alpha, molfile\_\-timestep\_\-t::B, molfile\_\-timestep\_\-t::beta, molfile\_\-timestep\_\-t::C, molfile\_\-timestep\_\-t::coords, jshandle::fd, fio\_\-fwrite, molfile\_\-timestep\_\-t::gamma, M\_\-PI\_\-2, MOLFILE\_\-SUCCESS, jshandle::natoms, and jshandle::nframes.

\subsection{Variable Documentation}
\index{jsplugin.c@{jsplugin.c}!jsplugin@{jsplugin}}
\index{jsplugin@{jsplugin}!jsplugin.c@{jsplugin.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}{\bf molfile\_\-plugin\_\-t} jsplugin\hspace{0.3cm}{\tt  [static]}}\label{jsplugin_8c_a10}


{\bf Initial value:}

\footnotesize\begin{verbatim} {
  vmdplugin_ABIVERSION,                         
  MOLFILE_PLUGIN_TYPE,                          
  "js",                                         
  "js",                                         
  "John Stone",                                 
  0,                                            
  8,                                            
  VMDPLUGIN_THREADSAFE,                         
  "js",                                         
  open_js_read,
  0,
  0,
  read_js_timestep,
  close_js_read,
  open_js_write,
  0,
  write_js_timestep,
  close_js_write,
  0,                            
  0,                            
  0                             
}\end{verbatim}\normalsize 


Definition at line 269 of file jsplugin.c.