<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>moldenplugin.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>moldenplugin.c</h1><a href="moldenplugin_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/***************************************************************************</font>
00002 <font class="comment"> *cr</font>
00003 <font class="comment"> *cr            (C) Copyright 1995-2006 The Board of Trustees of the</font>
00004 <font class="comment"> *cr                        University of Illinois</font>
00005 <font class="comment"> *cr                         All Rights Reserved</font>
00006 <font class="comment"> *cr</font>
00007 <font class="comment"> ***************************************************************************/</font>
00008 
00009 <font class="comment">/***************************************************************************</font>
00010 <font class="comment"> * RCS INFORMATION:</font>
00011 <font class="comment"> *</font>
00012 <font class="comment"> *      $RCSfile: moldenplugin.c,v $</font>
00013 <font class="comment"> *      $Author: johns $       $Locker:  $             $State: Exp $</font>
00014 <font class="comment"> *      $Revision: 1.12 $       $Date: 2006/02/23 19:36:45 $</font>
00015 <font class="comment"> *</font>
00016 <font class="comment"> ***************************************************************************/</font>
00017 
00018 <font class="comment">/* This is a plugin that will read input from a MOLDEN</font>
00019 <font class="comment">** generated output file </font>
00020 <font class="comment">** some more details will go here soon </font>
00021 <font class="comment">** NOTE: The current version of the plugin relies</font>
00022 <font class="comment">** on the fact that the [Atom] field comes before</font>
00023 <font class="comment">** the [Geometries] field */</font>
00024 
00025 
00026 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00027 <font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00028 <font class="preprocessor">#include &lt;string.h&gt;</font>
00029 <font class="preprocessor">#include &lt;ctype.h&gt;</font>
00030 <font class="preprocessor">#include "<a class="code" href="molfile__plugin_8h.html">molfile_plugin.h</a>"</font>
00031 
00032 
00033 
<a name="l00034"></a><a class="code" href="structmoldendata.html">00034</a> <font class="keyword">typedef</font> <font class="keyword">struct </font>{
<a name="l00035"></a><a class="code" href="structmoldendata.html#m0">00035</a>   FILE *file;
<a name="l00036"></a><a class="code" href="structmoldendata.html#m1">00036</a>   <font class="keywordtype">int</font> trajectory;
<a name="l00037"></a><a class="code" href="structmoldendata.html#m2">00037</a>   <font class="keywordtype">int</font> numatoms;
<a name="l00038"></a><a class="code" href="structmoldendata.html#m3">00038</a>   <font class="keywordtype">char</font> *file_name;
<a name="l00039"></a><a class="code" href="structmoldendata.html#m4">00039</a>   <a class="code" href="structmolfile__atom__t.html">molfile_atom_t</a> *atomlist;
00040 } <a class="code" href="structmoldendata.html">moldendata</a>;
00041 
00042 <font class="comment">/* this will skip one line at a time */</font>
00043 
<a name="l00044"></a><a class="code" href="moldenplugin_8c.html#a1">00044</a> <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(FILE * fd)
00045 {
00046   <font class="keywordtype">char</font> readbuf[1025];
00047   fgets(readbuf, 1024, fd);
00048 }
00049 
00050  
<a name="l00051"></a><a class="code" href="moldenplugin_8c.html#a2">00051</a> <font class="keyword">static</font> <font class="keywordtype">void</font> *<a class="code" href="moldenplugin_8c.html#a2">open_molden_read</a>(<font class="keyword">const</font> <font class="keywordtype">char</font> *filename, <font class="keyword">const</font> <font class="keywordtype">char</font> *filetype, <font class="keywordtype">int</font> *natoms) {
00052 
00053   FILE *fd;
00054   <a class="code" href="structmoldendata.html">moldendata</a> *data;
00055   <font class="keywordtype">char</font> moldentest1[7];
00056   <font class="keywordtype">char</font> moldentest2[7];
00057   <font class="keywordtype">char</font> buffer[1024];
00058   <font class="keywordtype">char</font> tester[20];
00059   <font class="keywordtype">int</font> i;
00060   <font class="keywordtype">char</font> *s;
00061 
00062   fd = fopen(filename, <font class="stringliteral">"rb"</font>);
00063   <font class="keywordflow">if</font> (!fd) <font class="keywordflow">return</font> NULL;
00064   
00065   data = (<a class="code" href="structmoldendata.html">moldendata</a> *)malloc(<font class="keyword">sizeof</font>(<a class="code" href="structmoldendata.html">moldendata</a>));
00066   data-&gt;<a class="code" href="structmoldendata.html#m0">file</a> = fd;
00067   data-&gt;<a class="code" href="structmoldendata.html#m3">file_name</a> = strdup(filename);
00068 
00069 <font class="comment">/* check if the file is MOLDEN format */</font>
00070 
00071   fscanf(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>, <font class="stringliteral">"%s %s"</font>,moldentest1,moldentest2);
00072   <font class="keywordflow">if</font> (!strcmp(moldentest1,<font class="stringliteral">"[Molden"</font>) &amp;&amp; \
00073       !strcmp(moldentest2,<font class="stringliteral">"Format]"</font>))
00074   {
00075     printf(<font class="stringliteral">"Detected MOLDEN file format!\n"</font>);
00076   }
00077   <font class="keywordflow">else</font>
00078   {
00079     printf(<font class="stringliteral">"The file does not seem to be in MOLDEN format!\n"</font>);
00080     <font class="keywordflow">return</font> NULL;
00081   }
00082 
00083 <font class="comment">/* Unfortunately the molden file format has two possibilities:</font>
00084 <font class="comment">** either there is a [ATOMS] section which provides the atom</font>
00085 <font class="comment">** name, charges and coordinates or there is only a </font>
00086 <font class="comment">** XYZ style [GEOMETRIES] section, which still provides atom</font>
00087 <font class="comment">** type and geometry information, hence I have to check which</font>
00088 <font class="comment">** case I have */</font>
00089   
00090 <font class="comment">/* check if there is an [ATOMS] section */</font>
00091 
00092   <font class="keywordflow">do</font>
00093   {
00094     i=fscanf(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>, <font class="stringliteral">"%s"</font>,tester); 
00095     <font class="keywordflow">if</font> (!strcmp(tester,<font class="stringliteral">"[Atoms]"</font>))
00096     {
00097 <font class="comment">/* start counting the atoms; </font>
00098 <font class="comment">** read until I hit the first line that starts with a "["</font>
00099 <font class="comment">** bracket */</font>
00100 
00101       <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(fd); 
00102       (*natoms)=0; 
00103       s=fgets(buffer,1024,fd);
00104 
00105 <font class="comment">/* Here I assume that the [Atoms] section goes</font>
00106 <font class="comment">** on until another section starts, i.e. ther is</font>
00107 <font class="comment">** a "[" or I encounter EOF */</font>
00108 
00109       <font class="keywordflow">while</font> ((buffer[0]!=<font class="charliteral">'['</font>) &amp;&amp; (s != NULL))
00110       {
00111         (*natoms)++;     
00112         s=fgets(buffer,1024,fd);
00113       }
00114       data-&gt;<a class="code" href="structmoldendata.html#m2">numatoms</a>=*natoms;
00115       rewind(fd);
00116       data-&gt;<a class="code" href="structmoldendata.html#m1">trajectory</a> = 0;
00117       <font class="keywordflow">return</font> data;
00118     }
00119     <font class="keywordflow">else</font> <font class="keywordflow">if</font> (!strcmp(tester,<font class="stringliteral">"[GEOMETRIES]"</font>))
00120     {
00121       printf(<font class="stringliteral">"Found [Geometry] section ...\n"</font>);
00122       data-&gt;<a class="code" href="structmoldendata.html#m1">trajectory</a> = 1;         
00123        
00124 <font class="comment">/* In this case I am lucky because the first line</font>
00125 <font class="comment">** of the XYZ type [GEOMETRIES] input contains the</font>
00126 <font class="comment">** number of atoms, i.e. skip to this line and the</font>
00127 <font class="comment">** read this entry */</font>
00128 
00129       <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(fd);
00130 
00131       i=fscanf(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>, <font class="stringliteral">"%d"</font>,natoms);
00132       <font class="keywordflow">if</font> (i!=1)
00133       {
00134         printf(<font class="stringliteral">"The [GEOMTRIES] output does not have \n"</font>);
00135         printf(<font class="stringliteral">"the number of atoms in line number one !! \n"</font>);
00136       }
00137 
00138       data-&gt;<a class="code" href="structmoldendata.html#m2">numatoms</a>=*natoms;
00139      
00140 <font class="comment">/* skip the next two lines, so the file can be parsed in the </font>
00141 <font class="comment">** structure section */</font>      
00142 
00143       <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(fd);
00144       <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(fd);
00145 
00146       <font class="keywordflow">return</font> data; 
00147     }
00148    } <font class="keywordflow">while</font> (i&gt;0);
00149   
00150   <font class="keywordflow">return</font> NULL;
00151 }
00152 
<a name="l00153"></a><a class="code" href="moldenplugin_8c.html#a3">00153</a> <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="moldenplugin_8c.html#a3">read_molden_structure</a>(<font class="keywordtype">void</font> *mydata, <font class="keywordtype">int</font> *optflags, 
00154     <a class="code" href="structmolfile__atom__t.html">molfile_atom_t</a> *atoms) 
00155  {
00156   <font class="keywordtype">int</font> i;
00157   <font class="keywordtype">char</font> atname[1024];
00158   <font class="keywordtype">char</font> buffer[1024];
00159   <font class="keywordtype">char</font> geotest[11];
00160   <font class="keywordtype">int</font> num,charge;
00161   <font class="keywordtype">float</font> x,y,z;
00162   <a class="code" href="structmolfile__atom__t.html">molfile_atom_t</a> *atom;
00163   <a class="code" href="structmoldendata.html">moldendata</a> *data = (<a class="code" href="structmoldendata.html">moldendata</a> *)mydata;
00164 
00165   *optflags = <a class="code" href="molfile__plugin_8h.html#a8">MOLFILE_NOOPTIONS</a>; <font class="comment">/* no optional data */</font>
00166 
00167 <font class="comment">/* here I have two possibilities, either there is an</font>
00168 <font class="comment">** [Atoms] section (i.e. data-&gt;trajectory=0) and I can</font>
00169 <font class="comment">** read there structure information right there,</font>
00170 <font class="comment">** or I have to extract it from the [GEOMETRIES]</font>
00171 <font class="comment">** output (i.e. data-&gt;trajectory=1) */</font>
00172 
00173   <font class="keywordflow">if</font>(data-&gt;<a class="code" href="structmoldendata.html#m1">trajectory</a>==0)
00174   { 
00175 
00176 <font class="comment">/* Skip the first three lines */</font>
00177 
00178     <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00179     <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00180 
00181 <font class="comment">/* Now read in the atom types, names, charges as well</font>
00182 <font class="comment">** as x,y,z coordinates */</font>
00183 
00184     <font class="keywordflow">for</font>(i=0;i&lt;data-&gt;<a class="code" href="structmoldendata.html#m2">numatoms</a>;i++) 
00185     {
00186       atom = atoms+i;
00187       fgets(buffer,1024,data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);    
00188       sscanf(buffer,<font class="stringliteral">"%s %d %d %f %f %f"</font>,atname,&amp;num,&amp;charge,\
00189           &amp;x,&amp;y,&amp;z);
00190       strncpy(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m0">name</a>,atname,<font class="keyword">sizeof</font>(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m0">name</a>)); 
00191       strncpy(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m1">type</a>, atom-&gt;<a class="code" href="structmolfile__atom__t.html#m0">name</a>, <font class="keyword">sizeof</font>(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m1">type</a>));
00192       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m2">resname</a>[0] = <font class="charliteral">'\0'</font>;
00193       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m3">resid</a> = 1;
00194       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m5">chain</a>[0] = <font class="charliteral">'\0'</font>;
00195       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m4">segid</a>[0] = <font class="charliteral">'\0'</font>;
00196     }
00197 
00198 
00199 <font class="comment">/* finally and important skip the the beginning of the xyz</font>
00200 <font class="comment">** section */</font>
00201 
00202     <font class="keywordflow">do</font> 
00203     {
00204       fscanf(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>, <font class="stringliteral">"%s"</font>,geotest);   
00205     } <font class="keywordflow">while</font> (strcmp(geotest,<font class="stringliteral">"[GEOMETRIES]"</font>)!=0);
00206   
00207      printf(<font class="stringliteral">"Found Geometry Section\n"</font>);
00208 
00209   <font class="comment">/* advance to the beginning of the XYZ list */</font>
00210 
00211     <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00212     <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00213     <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>); 
00214 
00215 <font class="comment">/* time to go back */</font>
00216 
00217     <font class="keywordflow">return</font> <a class="code" href="molfile__plugin_8h.html#a2">MOLFILE_SUCCESS</a>; 
00218   }
00219   <font class="keywordflow">else</font> <font class="keywordflow">if</font>(data-&gt;<a class="code" href="structmoldendata.html#m1">trajectory</a>==1)
00220   {
00221     
00222 <font class="comment">/* in the read section I already forwarded to the correct</font>
00223 <font class="comment">** location in the file hence I can start reading right</font>
00224 <font class="comment">** away */</font>
00225 
00226 
00227     <font class="keywordflow">for</font>(i=0;i&lt;data-&gt;<a class="code" href="structmoldendata.html#m2">numatoms</a>;i++) 
00228     {
00229       atom = atoms+i;
00230       fgets(buffer,1024,data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);    
00231       sscanf(buffer,<font class="stringliteral">"%s %f %f %f"</font>,atname,&amp;x,&amp;y,&amp;z);
00232       strncpy(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m0">name</a>,atname,<font class="keyword">sizeof</font>(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m0">name</a>)); 
00233       strncpy(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m1">type</a>, atom-&gt;<a class="code" href="structmolfile__atom__t.html#m0">name</a>, <font class="keyword">sizeof</font>(atom-&gt;<a class="code" href="structmolfile__atom__t.html#m1">type</a>));
00234       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m2">resname</a>[0] = <font class="charliteral">'\0'</font>;
00235       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m3">resid</a> = 1;
00236       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m5">chain</a>[0] = <font class="charliteral">'\0'</font>;
00237       atom-&gt;<a class="code" href="structmolfile__atom__t.html#m4">segid</a>[0] = <font class="charliteral">'\0'</font>;
00238     }
00239 
00240 <font class="comment">/* now rewind the file and go back to the [GEOMETRIES]</font>
00241 <font class="comment">** section */</font>
00242 
00243     rewind(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00244     
00245     <font class="keywordflow">do</font> 
00246     {
00247       fscanf(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>, <font class="stringliteral">"%s"</font>,geotest);   
00248     } <font class="keywordflow">while</font> (strcmp(geotest,<font class="stringliteral">"[GEOMETRIES]"</font>)!=0);
00249   
00250      printf(<font class="stringliteral">"Found Geometry Section\n"</font>);
00251 
00252 <font class="comment">/* advance to the beginning of the XYZ list */</font>
00253 
00254      <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00255      <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00256      <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00257 
00258 <font class="comment">/* time to go back */</font>
00259 
00260      <font class="keywordflow">return</font> <a class="code" href="molfile__plugin_8h.html#a2">MOLFILE_SUCCESS</a>;
00261 
00262    }
00263 
00264   printf(<font class="stringliteral">"Sorry, could not obtain structure information \n"</font>);
00265   printf(<font class="stringliteral">"from either the [Atoms] or [GEOMETRIES] section! \n"</font>);
00266   printf(<font class="stringliteral">"Please check your MOLDEN output file! \n"</font>); 
00267   <font class="keywordflow">return</font> <a class="code" href="molfile__plugin_8h.html#a4">MOLFILE_ERROR</a>; 
00268 }
00269 
00270 
<a name="l00271"></a><a class="code" href="moldenplugin_8c.html#a4">00271</a> <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="webpdbplugin_8c.html#a8">read_next_timestep</a>(<font class="keywordtype">void</font> *mydata, <font class="keywordtype">int</font> natoms, <a class="code" href="structmolfile__timestep__t.html">molfile_timestep_t</a> *ts) {
00272 
00273   <font class="keywordtype">int</font> i;
00274   <font class="keywordtype">char</font> *k;
00275   <font class="keywordtype">char</font> atname[1024];
00276   <font class="keywordtype">char</font> buffer[1024];
00277   <font class="keywordtype">float</font> x, y, z;
00278   
00279   <a class="code" href="structmoldendata.html">moldendata</a> *data = (<a class="code" href="structmoldendata.html">moldendata</a> *)mydata;
00280   
00281 <font class="comment">/* read the coordinates */</font>
00282 
00283   <font class="keywordflow">for</font>(i=0;i&lt;data-&gt;<a class="code" href="structmoldendata.html#m2">numatoms</a>;i++) 
00284   {
00285       k=fgets(buffer,1024,data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00286       sscanf(buffer,<font class="stringliteral">"%s %f %f %f"</font>,atname,&amp;x,&amp;y,&amp;z);
00287 
00288 <font class="comment">/* save coordinates only if given a timestep pointer</font>
00289 <font class="comment">** otherwise assume that VMD would like to skip past</font>
00290 <font class="comment">** it */</font>
00291 
00292 <font class="comment">/* if I don't check for EOF file I get stuck in</font>
00293 <font class="comment">** an infinite loop */</font>
00294 
00295       <font class="keywordflow">if</font> ( k==NULL)
00296       {
00297         <font class="keywordflow">return</font> <a class="code" href="molfile__plugin_8h.html#a4">MOLFILE_ERROR</a>;
00298       }
00299       
00300       <font class="keywordflow">if</font> (ts!=NULL) 
00301       {
00302        ts-&gt;<a class="code" href="structmolfile__timestep__t.html#m0">coords</a>[3*i  ] = x;
00303        ts-&gt;<a class="code" href="structmolfile__timestep__t.html#m0">coords</a>[3*i+1] = y;
00304        ts-&gt;<a class="code" href="structmolfile__timestep__t.html#m0">coords</a>[3*i+2] = z;     
00305       } 
00306   }     
00307 
00308 <font class="comment">/* skip the two comment lines, which separate</font>
00309 <font class="comment">** the individual coordinate entries </font>
00310 <font class="comment">** (for now, cause contains useful information</font>
00311 <font class="comment">** like energies) */</font>
00312 
00313   <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00314   <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>); 
00315 
00316 <font class="comment">/* done and go back */</font>
00317 
00318   <font class="keywordflow">return</font> <a class="code" href="molfile__plugin_8h.html#a2">MOLFILE_SUCCESS</a>;
00319 }
00320   
00321 
<a name="l00322"></a><a class="code" href="moldenplugin_8c.html#a5">00322</a> <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="moldenplugin_8c.html#a5">close_molden_read</a>(<font class="keywordtype">void</font> *mydata) {
00323   <a class="code" href="structmoldendata.html">moldendata</a> *data = (<a class="code" href="structmoldendata.html">moldendata</a> *)mydata;
00324   fclose(data-&gt;<a class="code" href="structmoldendata.html#m0">file</a>);
00325   free(data-&gt;<a class="code" href="structmoldendata.html#m3">file_name</a>);
00326   free(data);
00327 }
00328 
00329 
00330 <font class="comment">/* registration stuff */</font>
<a name="l00331"></a><a class="code" href="moldenplugin_8c.html#a0">00331</a> <font class="keyword">static</font> <a class="code" href="structmolfile__plugin__t.html">molfile_plugin_t</a> <a class="code" href="moldenplugin_8c.html#a0">moldenplugin</a> = {
00332   <a class="code" href="vmdplugin_8h.html#a10">vmdplugin_ABIVERSION</a>,
00333   <a class="code" href="molfile__plugin_8h.html#a0">MOLFILE_PLUGIN_TYPE</a>,                         <font class="comment">/* type */</font>
00334   <font class="stringliteral">"molden"</font>,                                    <font class="comment">/* short name */</font>
00335   <font class="stringliteral">"Molden"</font>,                                    <font class="comment">/* pretty name */</font>
00336   <font class="stringliteral">"Markus Dittrich"</font>,                           <font class="comment">/* author */</font>
00337   0,                                           <font class="comment">/* major version */</font>
00338   1,                                           <font class="comment">/* minor version */</font>
00339   <a class="code" href="vmdplugin_8h.html#a12">VMDPLUGIN_THREADSAFE</a>,                        <font class="comment">/* is reentrant */</font>
00340   <font class="stringliteral">"molden"</font>,
00341   <a class="code" href="moldenplugin_8c.html#a2">open_molden_read</a>,
00342   <a class="code" href="moldenplugin_8c.html#a3">read_molden_structure</a>,
00343   0,
00344   <a class="code" href="moldenplugin_8c.html#a4">read_next_timestep</a>, 
00345   <a class="code" href="moldenplugin_8c.html#a5">close_molden_read</a>,
00346   0,
00347   0,
00348   0, 
00349   0,
00350 };
00351 
<a name="l00352"></a><a class="code" href="moldenplugin_8c.html#a6">00352</a> <a class="code" href="vmdplugin_8h.html#a7">VMDPLUGIN_API</a> <font class="keywordtype">int</font> <a class="code" href="vmdplugin_8h.html#a5">VMDPLUGIN_init</a>() {
00353   <font class="keywordflow">return</font> <a class="code" href="vmdplugin_8h.html#a13">VMDPLUGIN_SUCCESS</a>;
00354 }
00355 
<a name="l00356"></a><a class="code" href="moldenplugin_8c.html#a7">00356</a> <a class="code" href="vmdplugin_8h.html#a7">VMDPLUGIN_API</a> <font class="keywordtype">int</font> <a class="code" href="vmdplugin_8h.html#a3">VMDPLUGIN_register</a>(<font class="keywordtype">void</font> *v, <a class="code" href="vmdplugin_8h.html#a15">vmdplugin_register_cb</a> cb) {
00357   (*cb)(v, (<a class="code" href="structvmdplugin__t.html">vmdplugin_t</a> *)&amp;moldenplugin);
00358   <font class="keywordflow">return</font> <a class="code" href="vmdplugin_8h.html#a13">VMDPLUGIN_SUCCESS</a>;
00359 }
00360 
<a name="l00361"></a><a class="code" href="moldenplugin_8c.html#a8">00361</a> <a class="code" href="vmdplugin_8h.html#a7">VMDPLUGIN_API</a> <font class="keywordtype">int</font> <a class="code" href="vmdplugin_8h.html#a6">VMDPLUGIN_fini</a>() {
00362   <font class="keywordflow">return</font> <a class="code" href="vmdplugin_8h.html#a13">VMDPLUGIN_SUCCESS</a>;
00363 }
00364 
</pre></div><hr><address><small>Generated on Wed Mar 22 13:15:30 2006 for VMD Plugins (current) by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
