<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>gamessplugin.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>gamessplugin.h</h1><a href="gamessplugin_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">/***************************************************************************</font>
00002 <font class="comment"> *cr</font>
00003 <font class="comment"> *cr            (C) Copyright 1995-2006 The Board of Trustees of the</font>
00004 <font class="comment"> *cr                        University of Illinois</font>
00005 <font class="comment"> *cr                         All Rights Reserved</font>
00006 <font class="comment"> *cr</font>
00007 <font class="comment"> ***************************************************************************/</font>
00008 
00009 <font class="comment">/***************************************************************************</font>
00010 <font class="comment"> * RCS INFORMATION:</font>
00011 <font class="comment"> *</font>
00012 <font class="comment"> *      $RCSfile: gamessplugin.h,v $</font>
00013 <font class="comment"> *      $Author: markus $       $Locker:  $             $State: Exp $</font>
00014 <font class="comment"> *      $Revision: 1.32 $       $Date: 2006/03/06 16:16:50 $</font>
00015 <font class="comment"> *</font>
00016 <font class="comment"> ***************************************************************************/</font>
00017 <font class="comment">/*******************************************************************</font>
00018 <font class="comment"> * </font>
00019 <font class="comment"> *  headerfile for the gamessplugin</font>
00020 <font class="comment"> *</font>
00021 <font class="comment"> *  </font>
00022 <font class="comment"> ******************************************************************/</font>
00023 
00024 <font class="preprocessor">#ifndef GAMESSPLUGIN_H</font>
00025 <font class="preprocessor"></font><font class="preprocessor">#define GAMESSPLUGIN_H</font>
00026 <font class="preprocessor"></font>
00027 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00028 <font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00029 <font class="preprocessor">#include &lt;string.h&gt;</font>
00030 <font class="preprocessor">#include &lt;ctype.h&gt;</font>
00031 <font class="preprocessor">#include &lt;errno.h&gt;</font>
00032 <font class="preprocessor">#include &lt;time.h&gt;</font>
00033 <font class="preprocessor">#include &lt;math.h&gt;</font>
00034 <font class="preprocessor">#include "<a class="code" href="molfile__plugin_8h.html">molfile_plugin.h</a>"</font>
00035 
00036 
00037 <font class="comment">/* in order to be able to reserve the proper</font>
00038 <font class="comment"> * amount of temporary arrays I have to define an</font>
00039 <font class="comment"> * upper limit for the number of atoms in the QM</font>
00040 <font class="comment"> * system; 1000 atoms should be sufficient for all</font>
00041 <font class="comment"> * but abnoxiously large systems; hopefully there will</font>
00042 <font class="comment"> * eventually be a more elegant way to circumvent </font>
00043 <font class="comment"> * this */</font>
<a name="l00044"></a><a class="code" href="gamessplugin_8h.html#a0">00044</a> <font class="preprocessor">#define MAXQMATOMS 1000</font>
00045 <font class="preprocessor"></font>
00046 
00047 <font class="comment">/* maximum number of Gaussian basis functions;</font>
00048 <font class="comment"> * 1000 seems to be a proper upper limit for now;</font>
00049 <font class="comment"> * state-of-the-art simulation could do more, hence</font>
00050 <font class="comment"> * maybe increase to 5000 later */</font>
<a name="l00051"></a><a class="code" href="gamessplugin_8h.html#a1">00051</a> <font class="preprocessor">#define MAXBASISFUNCTIONS 1000</font>
00052 <font class="preprocessor"></font>
00053 
00054 <font class="comment">/* numerical representation of pi, from math.h */</font>
<a name="l00055"></a><a class="code" href="gamessplugin_8h.html#a2">00055</a> <font class="preprocessor">#define MY_PI 3.1415926535897932384626433832795029L</font>
00056 <font class="preprocessor"></font>
00057 
00058 <font class="comment">/* convert Bohr to Angstrom */</font>
<a name="l00059"></a><a class="code" href="gamessplugin_8h.html#a3">00059</a> <font class="preprocessor">#define BOHR_TO_ANGS 0.529177</font>
00060 <font class="preprocessor"></font>
00061 
00062 <font class="comment">/* convert Hartree into kcal/mol */</font>
<a name="l00063"></a><a class="code" href="gamessplugin_8h.html#a4">00063</a> <font class="preprocessor">#define HARTREE_TO_KCAL 627.503</font>
00064 <font class="preprocessor"></font>
00065 
00066 <font class="comment">/* maximum number of points for the orbital</font>
00067 <font class="comment"> * grid that the grid optimization code is </font>
00068 <font class="comment"> * allowed to generate */</font>
<a name="l00069"></a><a class="code" href="gamessplugin_8h.html#a5">00069</a> <font class="preprocessor">#define MAX_GRIDPOINTS 20000</font>
00070 <font class="preprocessor"></font>
00071 
00072 <font class="comment">/* define macros for true/false to make code </font>
00073 <font class="comment"> * look somewhat nicer; the macro DONE signals</font>
00074 <font class="comment"> * that we're done with reading an should return</font>
00075 <font class="comment"> * with what we have */</font>
<a name="l00076"></a><a class="code" href="gamessplugin_8h.html#a6">00076</a> <font class="preprocessor">#define FALSE 0</font>
<a name="l00077"></a><a class="code" href="gamessplugin_8h.html#a7">00077</a> <font class="preprocessor"></font><font class="preprocessor">#define TRUE  1</font>
00078 <font class="preprocessor"></font>
00079 
00080 <font class="comment">/* macros describing the RUNTYP */</font>
<a name="l00081"></a><a class="code" href="gamessplugin_8h.html#a8">00081</a> <font class="preprocessor">#define ENERGY   1</font>
<a name="l00082"></a><a class="code" href="gamessplugin_8h.html#a9">00082</a> <font class="preprocessor"></font><font class="preprocessor">#define OPTIMIZE 2</font>
<a name="l00083"></a><a class="code" href="gamessplugin_8h.html#a10">00083</a> <font class="preprocessor"></font><font class="preprocessor">#define SADPOINT 3</font>
<a name="l00084"></a><a class="code" href="gamessplugin_8h.html#a11">00084</a> <font class="preprocessor"></font><font class="preprocessor">#define HESSIAN  4</font>
00085 <font class="preprocessor"></font>
00086 
00087 <font class="comment">/* macros defining the SCFTYP */</font>
<a name="l00088"></a><a class="code" href="gamessplugin_8h.html#a12">00088</a> <font class="preprocessor">#define RHF   1</font>
<a name="l00089"></a><a class="code" href="gamessplugin_8h.html#a13">00089</a> <font class="preprocessor"></font><font class="preprocessor">#define UHF   2</font>
<a name="l00090"></a><a class="code" href="gamessplugin_8h.html#a14">00090</a> <font class="preprocessor"></font><font class="preprocessor">#define ROHF  3</font>
<a name="l00091"></a><a class="code" href="gamessplugin_8h.html#a15">00091</a> <font class="preprocessor"></font><font class="preprocessor">#define GVB   4</font>
<a name="l00092"></a><a class="code" href="gamessplugin_8h.html#a16">00092</a> <font class="preprocessor"></font><font class="preprocessor">#define MCSCF 5</font>
00093 <font class="preprocessor"></font>
00094 
00095 <font class="comment">/* this routine is the main gamess log file</font>
00096 <font class="comment"> * parser responsible for static, i.e. </font>
00097 <font class="comment"> * non-trajectory information */</font>
00098 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a13">parse_gamess_log_static</a>(<font class="keywordtype">void</font> *, <font class="keywordtype">int</font> *);
00099 
00100 
00101 <font class="comment">/* this routine checks if the current run is an</font>
00102 <font class="comment"> * actual GAMESS run; returns true/false */</font>
00103 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8h.html#a18">have_gamess</a>(<font class="keywordtype">void</font> *);
00104 
00105 
00106 <font class="comment">/* this routine extracts the GBASIS; returns</font>
00107 <font class="comment"> * true/false */</font>
00108 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8h.html#a19">get_gbasis</a>(<font class="keywordtype">void</font> *);
00109 
00110 
00111 <font class="comment">/* this routine reads the contrl group and</font>
00112 <font class="comment"> * checks the RUNTYP terminating the plugin</font>
00113 <font class="comment"> * if it encounters an unsupported one */</font>
00114 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8h.html#a20">check_contrl</a>(<font class="keywordtype">void</font> *);
00115 
00116 
00117 <font class="comment">/* this routine prints the current date and time,</font>
00118 <font class="comment"> * always useful to have that available, in my </font>
00119 <font class="comment"> * opinion at least. */</font>
00120 <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="gamessplugin_8c.html#a37">get_time</a>(<font class="keywordtype">char</font> *);
00121 
00122 
00123 <font class="comment">/* helper routine to chop spaces/newlines off</font>
00124 <font class="comment"> * a C character string </font>
00125 <font class="comment"> *</font>
00126 <font class="comment"> * TODO: This function is horrible and should</font>
00127 <font class="comment"> *       be replaced by a cleaner solutions */</font>
00128 <font class="keywordtype">char</font>* <a class="code" href="gamessplugin_8c.html#a38">chop_string_all</a>(<font class="keywordtype">char</font> *);
00129 
00130 
00131 <font class="comment">/* helper routine to chop newlines off</font>
00132 <font class="comment"> * a C character string </font>
00133 <font class="comment"> * </font>
00134 <font class="comment"> * TODO: This function is horrible and should</font>
00135 <font class="comment"> *       be replaced by a cleaner solutions */</font>
00136 <font class="keywordtype">char</font>* <a class="code" href="gamessplugin_8c.html#a39">chop_string_nl</a>(<font class="keywordtype">char</font> *);
00137 
00138 
00139 <font class="comment">/* this routine renormalizes the orbital</font>
00140 <font class="comment"> * coefficients read in from the input file */</font>
00141 <font class="keywordtype">float</font> <a class="code" href="gamessplugin_8c.html#a23">renorm_coefficient</a>(<font class="keywordtype">float</font>, <font class="keywordtype">float</font>, <font class="keywordtype">char</font>);
00142 
00143 
00144 <font class="comment">/* routine to determine the run title of the</font>
00145 <font class="comment"> * GAMESS run */</font>
00146 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8h.html#a25">get_runtitle</a>(<font class="keywordtype">void</font> *);
00147 
00148 
00149 <font class="comment">/* the function get_initial_info provides the atom number,</font>
00150 <font class="comment"> * coordinates, and atom types and stores them</font>
00151 <font class="comment"> * temporarily. */</font> 
00152 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a15">get_initial_info</a> (<font class="keywordtype">void</font> *);
00153 
00154 
00155 <font class="comment">/* the function get_basis we also parse the basis function section to</font>
00156 <font class="comment"> * determine the number of basis functions, contraction</font>
00157 <font class="comment"> * coefficients. For Pople/Huzinga style basis sets</font>
00158 <font class="comment"> * this numbers are in principle fixed, and could hence</font>
00159 <font class="comment"> * be provided by the the plugin itself; however, the user might</font>
00160 <font class="comment"> * define his own basis/contraction coeffients and hence reading</font>
00161 <font class="comment"> * them from the input file seem to be somewhat more general. */</font>
00162 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a22">get_basis</a> (<font class="keywordtype">void</font> *);
00163 
00164 
00165 <font class="comment">/* this function reads the number of processors requested */</font>
00166 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8h.html#a28">get_proc_mem</a>(<font class="keywordtype">void</font> *);
00167 
00168 
00169 <font class="comment">/* read in the guess options */</font>
00170 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a21">get_guess</a>(<font class="keywordtype">void</font> *);
00171 
00172 
00173 <font class="comment">/* this function reads the Gaussian Basis Set information</font>
00174 <font class="comment"> * for an individual atom in the output file */</font>
00175 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a24">atomic_basis</a>(<font class="keywordtype">int</font>, <font class="keywordtype">void</font> *, <font class="keywordtype">float</font> *, <font class="keywordtype">char</font> *, <font class="keywordtype">int</font> *, <font class="keywordtype">int</font>*);
00176 
00177 
00178 <font class="comment">/* this function parses the input file for the final</font>
00179 <font class="comment"> * wavefunction and stores it in the appropriate arrays; */</font>
00180 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a26">get_wavefunction</a>(<font class="keywordtype">void</font> *);
00181 
00182 
00183 <font class="comment">/* this function parses the input file and reads the</font>
00184 <font class="comment"> * number of orbitals; in the case of UHF this might</font>
00185 <font class="comment"> * be two numbers, namely the number of A and B orbitals;</font>
00186 <font class="comment"> * it also read the number of GAUSSIAN basis functions */</font>
00187 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a25">get_num_orbitals</a>(<font class="keywordtype">void</font> *);
00188 
00189 
00190 <font class="comment">/* this function is the main driver for computing and</font>
00191 <font class="comment"> * handling orbital grid data</font>
00192 <font class="comment"> */</font>
00193 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a28">orbital_grid_driver</a>(<font class="keywordtype">void</font> *);
00194 
00195 
00196 <font class="comment">/* this short test routine checks if the </font>
00197 <font class="comment"> * wavefunction/orbital stuff is supported/possible for </font>
00198 <font class="comment"> * the current GBASIS */</font>
00199 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8h.html#a34">have_supported_gbasis</a>(<font class="keywordtype">void</font> *);
00200 
00201 
00202 <font class="comment">/* this function parses all the stored wavefunctions</font>
00203 <font class="comment"> * for the HOMO which is the orbital with the smallest</font>
00204 <font class="comment"> * negative energy; NOTE: selecting the HOMO in such</font>
00205 <font class="comment"> * a manner might fail for some reasons, but simply is</font>
00206 <font class="comment"> * currently the easiest way to implement this.</font>
00207 <font class="comment"> * In the future we probably need some sort of GUI such</font>
00208 <font class="comment"> * that the user can select whatever orbital they want</font>
00209 <font class="comment"> * to look at not just the HOMO !! */</font>
00210 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a27">find_homo</a>(<font class="keywordtype">void</font> *);
00211 
00212 
00213 <font class="comment">/* this subroutine determines the cartesian origin</font>
00214 <font class="comment"> * and the dimensions of the system under consideration */</font>
00215 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a30">get_system_dimensions</a>(<font class="keywordtype">void</font> *);
00216 
00217 
00218 <font class="comment">/* given the system dimensions as determined by the</font>
00219 <font class="comment"> * get_system_dimension call it evaluates the value</font>
00220 <font class="comment"> * of the orbital at the points determined by the </font>
00221 <font class="comment"> * computational grid */</font>
00222 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a29">calculate_orbital</a>(<font class="keywordtype">void</font> *);
00223 
00224 
00225 <font class="comment">/* this subroutine scans the output file for</font>
00226 <font class="comment"> * the trajectory information */</font>
00227 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a14">get_trajectory</a>(<font class="keywordtype">void</font> *, <a class="code" href="structmolfile__timestep__t.html">molfile_timestep_t</a> *, <font class="keywordtype">int</font>);
00228 
00229 
00230 <font class="comment">/* For runtyp=HESSIAN, this subroutine scans the file for </font>
00231 <font class="comment"> * the hessian matrix in internal coordinates </font>
00232 <font class="comment"> * as well as the internal coordinate information */</font>
00233 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a20">get_int_coords</a>(<font class="keywordtype">void</font> *);
00234 
00235 
00236 <font class="comment">/* For runtyp=HESSIAN, this subroutine scans the file for </font>
00237 <font class="comment"> * the cartesian hessian matrix */</font> 
00238 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a19">get_cart_hessian</a>(<font class="keywordtype">void</font> *);
00239 
00240 
00241 <font class="comment">/* For runtyp=HESSIAN, this subroutine reads the frequencies</font>
00242 <font class="comment"> * and intensities of the normal modes */</font>
00243 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a18">get_normal_modes</a>(<font class="keywordtype">void</font> *);
00244 
00245 
00246 <font class="comment">/* this function calculates the value of the wavefunction</font>
00247 <font class="comment"> *  * corresponding to a particular orbital at grid point</font>
00248 <font class="comment"> *   * grid_x, grid_y, grid_z */</font>
00249 <font class="keywordtype">float</font> <a class="code" href="gamessplugin_8c.html#a40">orbital_at_grid_xyz</a>(<font class="keywordtype">void</font>*, <font class="keywordtype">float</font>*, <font class="keywordtype">float</font>, <font class="keywordtype">float</font>, 
00250     <font class="keywordtype">float</font>, <font class="keywordtype">float</font>);
00251 
00252 
00253 <font class="comment">/* this function animates a given normal mode by means of</font>
00254 <font class="comment"> * generating mod_num_frames frames away from the equilibrium</font>
00255 <font class="comment"> * structure in a direction given by the hessiane */</font>
00256 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a17">animate_normal_mode</a>(<font class="keywordtype">void</font>*, <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font>);
00257 
00258 
00259 <font class="comment">/* this function generates animated frames for normal</font>
00260 <font class="comment"> * mode mode_to_animate */</font>
00261 <font class="keyword">static</font> <font class="keywordtype">int</font> <a class="code" href="gamessplugin_8c.html#a16">initialize_animated_mode</a>(<font class="keywordtype">void</font>*);
00262 
00263 
00264 <font class="comment">/* structure for storing temporary values read in </font>
00265 <font class="comment"> * from the gamess output file */</font>
<a name="l00266"></a><a class="code" href="structgamess__temp.html">00266</a> <font class="keyword">typedef</font> <font class="keyword">struct </font>
00267 <font class="keyword"></font>{
<a name="l00268"></a><a class="code" href="structgamess__temp.html#m0">00268</a>   <font class="keywordtype">char</font> type [8]; <font class="comment">/* atom type H,N,O ..... */</font>
00269 
<a name="l00270"></a><a class="code" href="structgamess__temp.html#m1">00270</a>   <font class="keywordtype">float</font> charge; <font class="comment">/* array containing charge of atom i */</font>
00271 
<a name="l00272"></a><a class="code" href="structgamess__temp.html#m4">00272</a>   <font class="keywordtype">float</font> x,y,z; <font class="comment">/* array containing the coordinate of</font>
00273 <font class="comment">                * atom i*/</font>
00274 } <a class="code" href="structgamess__temp.html">gamess_temp</a>;
00275 
00276 
00277 <font class="comment">/* structure for storing an animated normal mode */</font>
<a name="l00278"></a><a class="code" href="structmode__data.html">00278</a> <font class="keyword">typedef</font> <font class="keyword">struct</font>
00279 <font class="keyword"></font>{
<a name="l00280"></a><a class="code" href="structmode__data.html#m0">00280</a>   <font class="keywordtype">double</font> *mode_frames; <font class="comment">/* coordinate array containing</font>
00281 <font class="comment">                            frames of an animated normal mode */</font>
00282 
<a name="l00283"></a><a class="code" href="structmode__data.html#m1">00283</a>   <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> mode_num_frames; <font class="comment">/* number of frames when animating </font>
00284 <font class="comment">                                   modes */</font>
00285 
<a name="l00286"></a><a class="code" href="structmode__data.html#m2">00286</a>   <font class="keywordtype">unsigned</font> <font class="keywordtype">int</font> current_mode_frame; <font class="comment">/* tracker of current frame </font>
00287 <font class="comment">                                      of an animated mode */</font>
00288 
<a name="l00289"></a><a class="code" href="structmode__data.html#m3">00289</a>   <font class="keywordtype">double</font> mode_scaling; <font class="comment">/* scaling factor used for animated modes */</font>
00290 } <a class="code" href="structmode__data.html">mode_data</a>;
00291 
00292 
00293 <font class="comment">/* main gamess plugin data structure */</font>
<a name="l00294"></a><a class="code" href="structgamessdata.html">00294</a> <font class="keyword">typedef</font> <font class="keyword">struct </font>
00295 <font class="keyword"></font>{
<a name="l00296"></a><a class="code" href="structgamessdata.html#m0">00296</a>   FILE *file;
<a name="l00297"></a><a class="code" href="structgamessdata.html#m1">00297</a>   <font class="keywordtype">int</font> numatoms;
<a name="l00298"></a><a class="code" href="structgamessdata.html#m2">00298</a>   <font class="keywordtype">int</font> runtyp;   <font class="comment">/* RUNTYP of GAMESS as int for internal use */</font>
<a name="l00299"></a><a class="code" href="structgamessdata.html#m3">00299</a>   <font class="keywordtype">char</font> runtyp_string[BUFSIZ];  <font class="comment">/* RUNTYP as string */</font>  
<a name="l00300"></a><a class="code" href="structgamessdata.html#m4">00300</a>   <font class="keywordtype">char</font> gbasis[10];   <font class="comment">/* GBASIS of GAMESS run */</font>
00301 
<a name="l00302"></a><a class="code" href="structgamessdata.html#m5">00302</a>   <font class="keywordtype">char</font> basis_string[BUFSIZ]; <font class="comment">/* basis name as "nice" string */</font>
<a name="l00303"></a><a class="code" href="structgamessdata.html#m6">00303</a>   <font class="keywordtype">int</font> ngauss;        <font class="comment">/* number of gaussian function for </font>
00304 <font class="comment">                        pople style and STO basis */</font>
<a name="l00305"></a><a class="code" href="structgamessdata.html#m7">00305</a>   <font class="keywordtype">int</font> npfunc;        <font class="comment">/* number of p,d,f and diffuse funtions used */</font> 
<a name="l00306"></a><a class="code" href="structgamessdata.html#m8">00306</a>   <font class="keywordtype">int</font> ndfunc;        
<a name="l00307"></a><a class="code" href="structgamessdata.html#m9">00307</a>   <font class="keywordtype">int</font> nffunc;
<a name="l00308"></a><a class="code" href="structgamessdata.html#m10">00308</a>   <font class="keywordtype">int</font> diffs;
<a name="l00309"></a><a class="code" href="structgamessdata.html#m11">00309</a>   <font class="keywordtype">int</font> diffsp;
00310 
<a name="l00311"></a><a class="code" href="structgamessdata.html#m12">00311</a>   <font class="keywordtype">char</font> runtitle[BUFSIZ];  <font class="comment">/* title of gamess run */</font>
00312 
<a name="l00313"></a><a class="code" href="structgamessdata.html#m13">00313</a>   <font class="keywordtype">char</font> geometry[BUFSIZ];  <font class="comment">/* either UNIQUE, CART or ZMP/ZMTMPC */</font>
<a name="l00314"></a><a class="code" href="structgamessdata.html#m14">00314</a>   <font class="keywordtype">char</font> guess[BUFSIZ];    <font class="comment">/* type of guess method used */</font>
00315 
<a name="l00316"></a><a class="code" href="structgamessdata.html#m15">00316</a>   <font class="keywordtype">char</font> version_string[BUFSIZ]; <font class="comment">/* GAMESS version used for run */</font>
<a name="l00317"></a><a class="code" href="structgamessdata.html#m16">00317</a>   <font class="keywordtype">int</font>  version;  <font class="comment">/* here we track the GAMESS versions, since the</font>
00318 <font class="comment">                  * file format has changed with </font>
00319 <font class="comment">                  * version 27 JUN 2005 (R2);</font>
00320 <font class="comment">                  * version = 1  : pre-27 JUN 2005 (R2)</font>
00321 <font class="comment">                  * version = 2  : 27 JUN 2005 (R2)</font>
00322 <font class="comment">                  * version = 0  : this we might set if we</font>
00323 <font class="comment">                  *                detect an unsupported </font>
00324 <font class="comment">                  *                version and then bomb out */</font>
00325 
00326 
<a name="l00327"></a><a class="code" href="structgamessdata.html#m17">00327</a>   <font class="keywordtype">char</font> *file_name;
00328 
00329   <font class="comment">/******************************************************</font>
00330 <font class="comment">   * new API functions</font>
00331 <font class="comment">   *****************************************************/</font>
00332 
<a name="l00333"></a><a class="code" href="structgamessdata.html#m18">00333</a>   <font class="keywordtype">int</font>  scftyp;              <font class="comment">/* UHF, RHF, ROHF, as in for </font>
00334 <font class="comment">                               internal use*/</font>
<a name="l00335"></a><a class="code" href="structgamessdata.html#m19">00335</a>   <font class="keywordtype">char</font> scftyp_string[BUFSIZ]; <font class="comment">/* scftyp as string */</font>
<a name="l00336"></a><a class="code" href="structgamessdata.html#m20">00336</a>   <font class="keywordtype">int</font> *atomic_number;       <font class="comment">/* atomic numbers of molecule elements */</font>
00337   <font class="comment">/* char usertitle[80]; */</font> <font class="comment">/* 80 chars for an user comment */</font>
00338   <font class="comment">/* char fromcheckfile[80]; */</font> <font class="comment">/* mother checkpoint file */</font>
<a name="l00339"></a><a class="code" href="structgamessdata.html#m21">00339</a>   <font class="keywordtype">int</font> totalcharge;          <font class="comment">/* Total charge of the system */</font>
<a name="l00340"></a><a class="code" href="structgamessdata.html#m22">00340</a>   <font class="keywordtype">int</font> multiplicity;         <font class="comment">/* Multiplicity of the system */</font>
<a name="l00341"></a><a class="code" href="structgamessdata.html#m23">00341</a>   <font class="keywordtype">int</font> num_electrons;        <font class="comment">/* Number of electrons */</font>
<a name="l00342"></a><a class="code" href="structgamessdata.html#m24">00342</a>   <font class="keywordtype">int</font>  nimag;           <font class="comment">/* Number of imaginary frequencies */</font>
<a name="l00343"></a><a class="code" href="structgamessdata.html#m25">00343</a>   <font class="keywordtype">int</font> *nimag_modes;           <font class="comment">/* List of imaginary modes */</font>
00344 
<a name="l00345"></a><a class="code" href="structgamessdata.html#m26">00345</a>   <font class="keywordtype">int</font> num_scfenergies;     <font class="comment">/* number of SCF energies */</font>
<a name="l00346"></a><a class="code" href="structgamessdata.html#m27">00346</a>   <font class="keywordtype">double</font> *scfenergies;     <font class="comment">/* Converged SCF energies */</font>
00347 
<a name="l00348"></a><a class="code" href="structgamessdata.html#m28">00348</a>   <font class="keywordtype">double</font> *wavenumbers; <font class="comment">/* rotational and translational DoF </font>
00349 <font class="comment">                               are included, but can be removed due</font>
00350 <font class="comment">                               to their zero frequencies */</font>
<a name="l00351"></a><a class="code" href="structgamessdata.html#m29">00351</a>   <font class="keywordtype">double</font> *intensities; <font class="comment">/* Intensities of spectral lines */</font>
00352 
<a name="l00353"></a><a class="code" href="structgamessdata.html#m30">00353</a>   <font class="keywordtype">double</font> *normal_modes; <font class="comment">/* the normal modes themselves */</font>
00354 
<a name="l00355"></a><a class="code" href="structgamessdata.html#m31">00355</a>   <font class="keywordtype">int</font>  nproc;           <font class="comment">/* Number processors used */</font>
<a name="l00356"></a><a class="code" href="structgamessdata.html#m32">00356</a>   <font class="keywordtype">char</font> memory[256];     <font class="comment">/* Amount of memory used, e.g. 1Gb */</font>
00357   <font class="comment">/* char checkfile[256]; */</font> <font class="comment">/* The checkpoint file */</font>
00358 
00359   <font class="comment">/* GAUSSIAN specific */</font>
00360   <font class="comment">/* char route[1000]; */</font>  <font class="comment">/* line: "#..." */</font>
00361   <font class="comment">/* char geometry[256]; */</font><font class="comment">/* options of the Geom keyword */</font>
00362   <font class="comment">/* char guess[256];  */</font>  <font class="comment">/* options of the Guess keyword */</font>
00363 
00364   <font class="comment">/* arrays with atom charges */</font>
<a name="l00365"></a><a class="code" href="structgamessdata.html#m33">00365</a>   <font class="keywordtype">double</font> *mulliken_charges; 
00366   <font class="comment">/* float *mullikengroup; */</font>
<a name="l00367"></a><a class="code" href="structgamessdata.html#m34">00367</a>   <font class="keywordtype">double</font> *esp_charges;
00368   <font class="comment">/* float *npacharges; */</font>
<a name="l00369"></a><a class="code" href="structgamessdata.html#m35">00369</a>   <font class="keywordtype">int</font>   have_mulliken; 
<a name="l00370"></a><a class="code" href="structgamessdata.html#m36">00370</a>   <font class="keywordtype">int</font>   have_esp; 
00371   <font class="comment">/* int   have_npa; */</font>
00372 
00373   <font class="comment">/******************************************************</font>
00374 <font class="comment">   * internal coordinate stuff</font>
00375 <font class="comment">   *****************************************************/</font>
00376 
<a name="l00377"></a><a class="code" href="structgamessdata.html#m37">00377</a>   <font class="keywordtype">int</font> have_internals;  <font class="comment">/* TRUE/FALSE flag indicating if we</font>
00378 <font class="comment">                        * could properly read the internal</font>
00379 <font class="comment">                        * coordinates + internal hessian */</font>
00380 
<a name="l00381"></a><a class="code" href="structgamessdata.html#m38">00381</a>   <font class="keywordtype">int</font> have_cart_hessian; <font class="comment">/* TRUE/FALSE flag indicating if the</font>
00382 <font class="comment">                          * cartesian Hessian matrix could</font>
00383 <font class="comment">                          * be read from the output file */</font>
00384 
<a name="l00385"></a><a class="code" href="structgamessdata.html#m39">00385</a>   <font class="keywordtype">int</font> nintcoords;    <font class="comment">/* Number of internal coordinates */</font>
<a name="l00386"></a><a class="code" href="structgamessdata.html#m40">00386</a>   <font class="keywordtype">int</font> nbonds;        <font class="comment">/* Number of bonds */</font>
<a name="l00387"></a><a class="code" href="structgamessdata.html#m41">00387</a>   <font class="keywordtype">int</font> nangles;       <font class="comment">/* Number of angles */</font>
<a name="l00388"></a><a class="code" href="structgamessdata.html#m42">00388</a>   <font class="keywordtype">int</font> ndiheds;       <font class="comment">/* Number of dihedrals */</font>
<a name="l00389"></a><a class="code" href="structgamessdata.html#m43">00389</a>   <font class="keywordtype">int</font> nimprops;      <font class="comment">/* Number of impropers */</font>
00390 
<a name="l00391"></a><a class="code" href="structgamessdata.html#m44">00391</a>   <font class="keywordtype">int</font> *bonds;        <font class="comment">/* bond list (atom tuples) */</font>
<a name="l00392"></a><a class="code" href="structgamessdata.html#m45">00392</a>   <font class="keywordtype">int</font> *angles;       <font class="comment">/* angle list (atom triples) */</font>
<a name="l00393"></a><a class="code" href="structgamessdata.html#m46">00393</a>   <font class="keywordtype">int</font> *dihedrals;    <font class="comment">/* dihedral list (atom quadrupels) */</font>
<a name="l00394"></a><a class="code" href="structgamessdata.html#m47">00394</a>   <font class="keywordtype">int</font> *impropers;    <font class="comment">/* improper list (atom quadrupels) */</font>
00395 
<a name="l00396"></a><a class="code" href="structgamessdata.html#m48">00396</a>   <font class="keywordtype">double</font> *internal_coordinates; <font class="comment">/* value of internal coordinates */</font> 
00397   
00398   <font class="comment">/* the order of force constants has to match the internal</font>
00399 <font class="comment">   * coordinates in *bonds, *angles, *dihedrals */</font>
00400 
<a name="l00401"></a><a class="code" href="structgamessdata.html#m49">00401</a>   <font class="keywordtype">double</font> *bond_force_const;  <font class="comment">/* force constant for bonds */</font>
<a name="l00402"></a><a class="code" href="structgamessdata.html#m50">00402</a>   <font class="keywordtype">double</font> *angle_force_const; <font class="comment">/* force constant for angles */</font>
<a name="l00403"></a><a class="code" href="structgamessdata.html#m51">00403</a>   <font class="keywordtype">double</font> *dihedral_force_const;  <font class="comment">/* force constant for dihedrals */</font>
<a name="l00404"></a><a class="code" href="structgamessdata.html#m52">00404</a>   <font class="keywordtype">double</font> *improper_force_const;  <font class="comment">/* force constant for impropers */</font>
00405 
00406   <font class="comment">/*******************************************************</font>
00407 <font class="comment">   * end internal coordinate stuff</font>
00408 <font class="comment">   *******************************************************/</font>
00409 
<a name="l00410"></a><a class="code" href="structgamessdata.html#m53">00410</a>   <font class="keywordtype">double</font> *carthessian;  <font class="comment">/* Hessian matrix in cartesian coordinates,</font>
00411 <font class="comment">                       * dimension (3*numatoms)*(3*numatoms),</font>
00412 <font class="comment">                       * single array of floats </font>
00413 <font class="comment">                       * (row(1),row(2),...,row(numatoms))</font>
00414 <font class="comment">                       */</font>
00415 
<a name="l00416"></a><a class="code" href="structgamessdata.html#m54">00416</a>   <font class="keywordtype">double</font> *inthessian;  <font class="comment">/* Hessian matrix in internal coordinates,</font>
00417 <font class="comment">                       * dimension nintcoords*nintcoords,</font>
00418 <font class="comment">                       * single array of floats </font>
00419 <font class="comment">                       * (row(1),row(2),...,row(nintcoords))</font>
00420 <font class="comment">                       */</font>
00421 
00422   <font class="comment">/* float** get_cartesian_hessian(units);</font>
00423 <font class="comment">  float** get_internal_hessian(units);</font>
00424 <font class="comment">  char* get_elements();</font>
00425 <font class="comment">  char* get_names(); */</font>
00426 
00427   <font class="comment">/* NBO stuff */</font>
00428   <font class="comment">/* alpha and beta </font>
00429 <font class="comment">  int have_nbo; </font>
00430 <font class="comment">  int** lonepairs;</font>
00431 <font class="comment">  int** singlebonds;</font>
00432 <font class="comment">  int** doublebonds;</font>
00433 <font class="comment">  int** triplebonds; */</font> 
00434 
00435 
00436   <font class="comment">/*********************************************************</font>
00437 <font class="comment">   * END OF NEW API data members</font>
00438 <font class="comment">   *********************************************************/</font>
00439 
<a name="l00440"></a><a class="code" href="structgamessdata.html#m55">00440</a>   <font class="keywordtype">float</font> *system_dimensions; <font class="comment">/* stores the minmax xyz dimensions</font>
00441 <font class="comment">                            of the system */</font>
<a name="l00442"></a><a class="code" href="structgamessdata.html#m56">00442</a>   <font class="keywordtype">float</font> *system_center; <font class="comment">/* stores the geometric center of the</font>
00443 <font class="comment">                         * system */</font>
<a name="l00444"></a><a class="code" href="structgamessdata.html#m57">00444</a>   <font class="keywordtype">float</font> *orbital_grid; <font class="comment">/*this is a large array storing the </font>
00445 <font class="comment">                        * value of the orbitals at each grid</font>
00446 <font class="comment">                        * point; the values are arranged as</font>
00447 <font class="comment">                        * {xmin,ymin,zmin,xmin,ymin,zmin+i,</font>
00448 <font class="comment">                        *  ....xmin,ymin+i,zmin,.....}</font>
00449 <font class="comment">                        *  were i is distance between grid</font>
00450 <font class="comment">                        *  points */</font>
<a name="l00451"></a><a class="code" href="structgamessdata.html#m58">00451</a>   <font class="keywordtype">int</font> num_gridpoints;  <font class="comment">/* number of gridpoints in the orbital</font>
00452 <font class="comment">                        *  grid */</font>
00453 
00454 
00455   <font class="comment">/* this variable flags the presence (1) or</font>
00456 <font class="comment">   * absence (!=1) of volumetric data */</font>
<a name="l00457"></a><a class="code" href="structgamessdata.html#m59">00457</a>   <font class="keywordtype">int</font> have_volumetric;
00458  
00459 
00460   <font class="comment">/* this struct holds the volumetric metadata</font>
00461 <font class="comment">   * for the grid used to display the orbitals */</font>
<a name="l00462"></a><a class="code" href="structgamessdata.html#m60">00462</a>   <a class="code" href="structmolfile__volumetric__t.html">molfile_volumetric_t</a> *vol;
00463 
00464 
00465   <font class="comment">/* this array of floats stores the contraction coefficients</font>
00466 <font class="comment">   * and exponents for the basis functions:</font>
00467 <font class="comment">   * { exp(1), c-coeff(1), exp(2), c-coeff(2), .... }</font>
00468 <font class="comment">   * This holds also for double-zeta basis functions with</font>
00469 <font class="comment">   * exp(i) = exp(j) and c-coeff(i) != c-coeff(j). </font>
00470 <font class="comment">   * The array basis_counter holds the number of basis functions</font>
00471 <font class="comment">   * per atom i, in order for them to be assignable to the </font>
00472 <font class="comment">   * proper real space positions later on. </font>
00473 <font class="comment">   * the integer num_basis_funcs holds the number of elementary</font>
00474 <font class="comment">   * basis functions present in the basis array */</font>
<a name="l00475"></a><a class="code" href="structgamessdata.html#m61">00475</a>   <font class="keywordtype">float</font> *basis;
<a name="l00476"></a><a class="code" href="structgamessdata.html#m62">00476</a>   <font class="keywordtype">int</font> *basis_counter;
<a name="l00477"></a><a class="code" href="structgamessdata.html#m63">00477</a>   <font class="keywordtype">int</font> num_basis_funcs;
00478 
00479 
00480   <font class="comment">/* the array atom_shells stores the number of shells per</font>
00481 <font class="comment">   * atom i */</font>
<a name="l00482"></a><a class="code" href="structgamessdata.html#m64">00482</a>   <font class="keywordtype">int</font> *atomic_shells;
00483 
00484 
00485   <font class="comment">/* the array shell_primitives contains the number of </font>
00486 <font class="comment">   * primitives in shell i */</font>
<a name="l00487"></a><a class="code" href="structgamessdata.html#m65">00487</a>   <font class="keywordtype">int</font> *shell_primitives;
00488 
00489 
00490   <font class="comment">/* the array orbital_symmetry stores the symmetry type </font>
00491 <font class="comment">   * (S,L,D,..) of each (exponent, c-coeff) couple */</font>
<a name="l00492"></a><a class="code" href="structgamessdata.html#m66">00492</a>   <font class="keywordtype">char</font> *orbital_symmetry; 
00493 
00494 
00495   <font class="comment">/* the array wave_function contains the expansion coefficients</font>
00496 <font class="comment">   * for the wavefunction in the form:</font>
00497 <font class="comment">   * orbital1(c1,c2,c3,...),orbital2(c1,c2,c3,....) ...... */</font>
<a name="l00498"></a><a class="code" href="structgamessdata.html#m67">00498</a>   <font class="keywordtype">float</font> *wave_function;
00499 
00500 
00501   <font class="comment">/* the array orbital_energy contains the energies of </font>
00502 <font class="comment">   * all orbitals */</font>
<a name="l00503"></a><a class="code" href="structgamessdata.html#m68">00503</a>   <font class="keywordtype">float</font> *orbital_energy;
00504 
00505 
00506   <font class="comment">/* these two variable store the number of A and B orbitals */</font>
<a name="l00507"></a><a class="code" href="structgamessdata.html#m69">00507</a>   <font class="keywordtype">int</font> num_orbitals_A;
<a name="l00508"></a><a class="code" href="structgamessdata.html#m70">00508</a>   <font class="keywordtype">int</font> num_orbitals_B;
00509 
00510 
00511   <font class="comment">/* here we store the orbital index of the HOMO */</font>
<a name="l00512"></a><a class="code" href="structgamessdata.html#m71">00512</a>   <font class="keywordtype">int</font> homo_index;
00513 
00514   <font class="comment">/* this variable stores the number of GAUSSIAN basis functions */</font>
<a name="l00515"></a><a class="code" href="structgamessdata.html#m72">00515</a>   <font class="keywordtype">int</font> num_gauss_basis_funcs;
00516 
00517 
00518   <font class="comment">/* this flags signals if we were successful in reading in </font>
00519 <font class="comment">   * wavefunction information ( got_wavefunction = 1) or</font>
00520 <font class="comment">   * not ( got_wavefunction = 0). This will help to avoid</font>
00521 <font class="comment">   * doing wavefunction type analysis on arrays that have</font>
00522 <font class="comment">   * not been properly initialized with useful data */</font>
<a name="l00523"></a><a class="code" href="structgamessdata.html#m73">00523</a>   <font class="keywordtype">int</font> got_wavefunction;
00524  
00525 
00526   <font class="comment">/* this variable stores the number of orbital read from the</font>
00527 <font class="comment">   * output file */</font>
<a name="l00528"></a><a class="code" href="structgamessdata.html#m74">00528</a>   <font class="keywordtype">int</font> orbital_counter;
00529 
00530 
00531   <font class="comment">/* the structure gamess_temp was defined to read in data from</font>
00532 <font class="comment">   * the GAMESS output file and store it temporarily;</font>
00533 <font class="comment">   * it is then copied into the VMD specific arrays at the</font>
00534 <font class="comment">   * appropriate point in time;</font>
00535 <font class="comment">   * this was partially implemented since the output file does</font>
00536 <font class="comment">   * not, e.g., contain the number of atoms per se. One rather</font>
00537 <font class="comment">   * has to count them by hand - at that point one could as </font>
00538 <font class="comment">   * well already read in the initial coordinates, atom types ...</font>
00539 <font class="comment">   * which is not really supported by the way the VMD provided</font>
00540 <font class="comment">   * function are arranged....this implementation could of</font>
00541 <font class="comment">   * course be changed later..... */</font>
<a name="l00542"></a><a class="code" href="structgamessdata.html#m75">00542</a>   <a class="code" href="structgamess__temp.html">gamess_temp</a> *temporary;
00543 
00544 
00545   <font class="comment">/* pointer to a structure that keeps track-of an animated</font>
00546 <font class="comment">   * normal mode */</font>
<a name="l00547"></a><a class="code" href="structgamessdata.html#m76">00547</a>   <a class="code" href="structmode__data.html">mode_data</a> *animated_mode;
00548 
00549 
00550   <font class="comment">/* flag to indicate wether to read a single point or </font>
00551 <font class="comment">   * a trajectory */</font>
<a name="l00552"></a><a class="code" href="structgamessdata.html#m77">00552</a>   <font class="keywordtype">int</font> have_trajectory;
00553 
00554   <font class="comment">/* number of trajectory points; single point corresponds</font>
00555 <font class="comment">   * to 1 */</font>
<a name="l00556"></a><a class="code" href="structgamessdata.html#m78">00556</a>   <font class="keywordtype">int</font> num_traj_points;
00557 
00558 
00559 } <a class="code" href="structgamessdata.html">gamessdata</a>;
00560 
00561 <font class="comment">/* this is currently a hack and provides a</font>
00562 <font class="comment"> * way to access the data read by the</font>
00563 <font class="comment"> * plugin from the tcl interface */</font>
00564 <font class="comment">/*gamessdata* tcl_pointer; */</font>
00565 
00566 
00567 <font class="comment">/* this will skip one line at a time */</font>
<a name="l00568"></a><a class="code" href="gamessplugin_8h.html#a45">00568</a> <font class="keyword">static</font> <font class="keywordtype">void</font> <a class="code" href="xsfplugin_8C.html#a36">eatline</a>(FILE * fd)
00569 {
00570   <font class="keywordtype">char</font> readbuf[1025];
00571   fgets(readbuf, 1024, fd);
00572 }
00573 
00574 <font class="keywordtype">float</font> <a class="code" href="gamessplugin_8h.html#a46">calculate_wavefunction</a>(<font class="keywordtype">void</font>*, <font class="keywordtype">float</font>*, <font class="keywordtype">float</font>, <font class="keywordtype">float</font>, 
00575     <font class="keywordtype">float</font>, <font class="keywordtype">float</font>);
00576 
00577 <font class="preprocessor">#endif</font>
</pre></div><hr><address><small>Generated on Wed Mar 22 13:15:29 2006 for VMD Plugins (current) by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
