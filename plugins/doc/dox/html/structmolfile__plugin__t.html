<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>molfile_plugin_t struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>molfile_plugin_t  Struct Reference</h1><code>#include &lt;<a class="el" href="molfile__plugin_8h-source.html">molfile_plugin.h</a>&gt;</code>
<p>
<a href="structmolfile__plugin__t-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>vmdplugin_HEAD const char *&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m0">filename_extension</a></td></tr>
<tr><td nowrap align=right valign=top>void *(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m1">open_file_read</a> )(const char *filepath, const char *<a class="el" href="main_8c.html#a1">filetype</a>, int *natoms)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m2">read_structure</a> )(void *, int *optflags, <a class="el" href="structmolfile__atom__t.html">molfile_atom_t</a> *atoms)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m3">read_bonds</a> )(void *, int *nbonds, int **from, int **to, float **bondorder)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m4">read_next_timestep</a> )(void *, int natoms, <a class="el" href="structmolfile__timestep__t.html">molfile_timestep_t</a> *)</td></tr>
<tr><td nowrap align=right valign=top>void(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m5">close_file_read</a> )(void *)</td></tr>
<tr><td nowrap align=right valign=top>void *(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m6">open_file_write</a> )(const char *filepath, const char *<a class="el" href="main_8c.html#a1">filetype</a>, int natoms)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m7">write_structure</a> )(void *, int optflags, const <a class="el" href="structmolfile__atom__t.html">molfile_atom_t</a> *atoms)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m8">write_timestep</a> )(void *, const <a class="el" href="structmolfile__timestep__t.html">molfile_timestep_t</a> *)</td></tr>
<tr><td nowrap align=right valign=top>void(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m9">close_file_write</a> )(void *)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m10">read_volumetric_metadata</a> )(void *, int *nsets, <a class="el" href="structmolfile__volumetric__t.html">molfile_volumetric_t</a> **metadata)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m11">read_volumetric_data</a> )(void *, int set, float *datablock, float *colorblock)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m12">read_rawgraphics</a> )(void *, int *nelem, const <a class="el" href="structmolfile__graphics__t.html">molfile_graphics_t</a> **data)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m13">read_molecule_metadata</a> )(void *, <a class="el" href="structmolfile__metadata__t.html">molfile_metadata_t</a> **metadata)</td></tr>
<tr><td nowrap align=right valign=top>int(*&nbsp;</td><td valign=bottom><a class="el" href="structmolfile__plugin__t.html#m14">write_bonds</a> )(void *, int nbonds, int *from, int *to, float *bondorder)</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Main file reader API. Any function in this struct may be NULL if not implemented by the plugin; the application checks this to determine what functionality is present in the plugin. 
<p>

<p>
Definition at line <a class="el" href="molfile__plugin_8h-source.html#l00217">217</a> of file <a class="el" href="molfile__plugin_8h-source.html">molfile_plugin.h</a>.<hr><h2>Member Data Documentation</h2>
<a name="m5" doxytag="molfile_plugin_t::close_file_read"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void(*  molfile_plugin_t::close_file_read)(void *)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the file and release all data. The handle cannot be reused. 
<p>
Referenced by <a class="el" href="main_8c-source.html#l00040">main</a>, <a class="el" href="babelplugin_8c-source.html#l00609">VMDPLUGIN_init</a>, and <a class="el" href="avsplugin_8C-source.html#l00566">VMDPLUGIN_register</a>.    </td>
  </tr>
</table>
<a name="m9" doxytag="molfile_plugin_t::close_file_write"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void(*  molfile_plugin_t::close_file_write)(void *)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Close the file and release all data. The handle cannot be reused.     </td>
  </tr>
</table>
<a name="m0" doxytag="molfile_plugin_t::filename_extension"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> vmdplugin_HEAD const char* molfile_plugin_t::filename_extension
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Filename extension for this file type. May be NULL if no filename  extension exists and/or is known. For file types that match several common extensions, list them in a comma separated list such as: "pdb,ent,foo,bar,baz,ban" The comma separated list will be expanded when filename extension matching is performed. If multiple plugins solicit the same filename extensions, the first one tried/checked "wins". 
<p>
Definition at line <a class="el" href="molfile__plugin_8h-source.html#l00232">232</a> of file <a class="el" href="molfile__plugin_8h-source.html">molfile_plugin.h</a>.
<p>
Referenced by <a class="el" href="babelplugin_8c-source.html#l00609">VMDPLUGIN_init</a>.    </td>
  </tr>
</table>
<a name="m1" doxytag="molfile_plugin_t::open_file_read"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void*(*  molfile_plugin_t::open_file_read)(const char *filepath, const char *<a class="el" href="main_8c.html#a1">filetype</a>, int *natoms)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Try to open the file for reading. Return an opaque handle, or NULL on failure. Set the number of atoms; if the number of atoms cannot be  determined, set natoms to MOLFILE_NUMATOMS_UNKNOWN.  Filetype should be the name under which this plugin was registered; this is provided so that plugins can provide the same function pointer to handle multiple file types. 
<p>
Referenced by <a class="el" href="main_8c-source.html#l00040">main</a>, <a class="el" href="babelplugin_8c-source.html#l00609">VMDPLUGIN_init</a>, and <a class="el" href="avsplugin_8C-source.html#l00566">VMDPLUGIN_register</a>.    </td>
  </tr>
</table>
<a name="m6" doxytag="molfile_plugin_t::open_file_write"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void*(*  molfile_plugin_t::open_file_write)(const char *filepath, const char *<a class="el" href="main_8c.html#a1">filetype</a>, int natoms)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open a coordinate file for writing using the given header information. Return an opaque handle, or NULL on failure. The application must specify the number of atoms to be written.  filetype should be the name under which this plugin was registered.     </td>
  </tr>
</table>
<a name="m3" doxytag="molfile_plugin_t::read_bonds"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(* molfile_plugin_t::read_bonds)(void *, int *nbonds, int **from, int **to, float **bondorder)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read bond information for the molecule. On success the arrays from and to should point to the (one-based) indices of bonded atoms. Each unique bond should be specified only once, so file formats that list bonds twice will need post-processing before the results are returned to the caller. If the plugin provides bond information, but the file loaded doesn't  actually contain any bond info, the nbonds parameter should be set to 0 and from/to should be set to NULL to indicate that no bond information was actually present, and automatic bond search should be performed.  If the plugin provides bond order information, the bondorder array will contain the bond order for each from/to pair. If not, the bondorder pointer should be set to NULL, in which case the caller will provide a  default bond order value of 1.0. These arrays must be freed by the plugin in the close_file_read function. This function can be called only after <a class="el" href="structmolfile__plugin__t.html#m2">read_structure</a>.  Return MOLFILE_SUCCESS if no errors occur. 
<p>
Referenced by <a class="el" href="main_8c-source.html#l00040">main</a>, and <a class="el" href="mdfplugin_8C-source.html#l00386">VMDPLUGIN_register</a>.    </td>
  </tr>
</table>
<a name="m13" doxytag="molfile_plugin_t::read_molecule_metadata"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::read_molecule_metadata)(void *, <a class="el" href="structmolfile__metadata__t.html">molfile_metadata_t</a> **metadata)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read molecule metadata such as what database (if any) this file/data came from, what the accession code for the database is, textual remarks and other notes pertaining to the contained structure/trajectory/volume and anything else that's informative at the whole file level.     </td>
  </tr>
</table>
<a name="m4" doxytag="molfile_plugin_t::read_next_timestep"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::read_next_timestep)(void *, int natoms, <a class="el" href="structmolfile__timestep__t.html">molfile_timestep_t</a> *)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the next timestep from the file. Return MOLFILE_SUCCESS, or  MOLFILE_EOF on EOF. If the <a class="el" href="structmolfile__timestep__t.html">molfile_timestep_t</a> argument is NULL, then  the frame should be skipped. Otherwise, the application must prepare  <a class="el" href="structmolfile__timestep__t.html">molfile_timestep_t</a> by allocating space in coords for the corresponding  number of coordinates.  The natoms parameter exists because some coordinate file formats  (like CRD) cannot determine for themselves how many atoms are in a  timestep; the app must therefore obtain this information elsewhere and provide it to the plugin. 
<p>
Referenced by <a class="el" href="main_8c-source.html#l00040">main</a>, and <a class="el" href="babelplugin_8c-source.html#l00609">VMDPLUGIN_init</a>.    </td>
  </tr>
</table>
<a name="m12" doxytag="molfile_plugin_t::read_rawgraphics"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::read_rawgraphics)(void *, int *nelem, const <a class="el" href="structmolfile__graphics__t.html">molfile_graphics_t</a> **data)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read raw graphics data stored in this file. Return the number of data elements and the data itself as an array of <a class="el" href="structmolfile__graphics__t.html">molfile_graphics_t</a> in the  pointer provided by the application. The plugin is responsible for  freeing the data when the file is closed. 
<p>
Referenced by <a class="el" href="graspplugin_8C-source.html#l00268">VMDPLUGIN_register</a>.    </td>
  </tr>
</table>
<a name="m2" doxytag="molfile_plugin_t::read_structure"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(* molfile_plugin_t::read_structure)(void *, int *optflags, <a class="el" href="structmolfile__atom__t.html">molfile_atom_t</a> *atoms)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read molecular structure from the given file handle. atoms is allocated by the caller and points to space for natoms. On success, place atom information in the passed-in pointer.  optflags specifies which optional fields in the atoms will be set by the plugin. 
<p>
Referenced by <a class="el" href="main_8c-source.html#l00040">main</a>, <a class="el" href="babelplugin_8c-source.html#l00609">VMDPLUGIN_init</a>, and <a class="el" href="mdfplugin_8C-source.html#l00386">VMDPLUGIN_register</a>.    </td>
  </tr>
</table>
<a name="m11" doxytag="molfile_plugin_t::read_volumetric_data"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::read_volumetric_data)(void *, int set, float *datablock, float *colorblock)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the specified volumetric data set into the space pointed to by  datablock. The set is specified with a zero-based index. The space  allocated for the datablock must be equal to xsize * ysize * zsize. No space will be allocated for colorblock  unless has_color is nonzero; in that case, colorblock should be filled in with three RGB floats per datapoint. 
<p>
Referenced by <a class="el" href="avsplugin_8C-source.html#l00566">VMDPLUGIN_register</a>.    </td>
  </tr>
</table>
<a name="m10" doxytag="molfile_plugin_t::read_volumetric_metadata"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::read_volumetric_metadata)(void *, int *nsets, <a class="el" href="structmolfile__volumetric__t.html">molfile_volumetric_t</a> **metadata)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Retrieve metadata pertaining to volumetric datasets in this file. Set nsets to the number of volumetric data sets, and set *metadata to point to an array of <a class="el" href="structmolfile__volumetric__t.html">molfile_volumetric_t</a>. The array is owned by the plugin and should be freed by <a class="el" href="structmolfile__plugin__t.html#m5">close_file_read</a>. The application may call this function any number of times. 
<p>
Referenced by <a class="el" href="avsplugin_8C-source.html#l00566">VMDPLUGIN_register</a>.    </td>
  </tr>
</table>
<a name="m14" doxytag="molfile_plugin_t::write_bonds"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::write_bonds)(void *, int nbonds, int *from, int *to, float *bondorder)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write bond information for the molecule. The arrays from and to point to the (one-based) indices of bonded atoms. Each unique bond will be specified only once by the caller.  File formats that list bonds twice will need to emit both the  from/to and to/from versions of each. This function must be called before <a class="el" href="structmolfile__plugin__t.html#m7">write_structure</a>.  Unlike the <a class="el" href="structmolfile__plugin__t.html#m3">read_bonds</a> routine, the bondorder information will always be provided (each bondorder can be set to 1 if unknown). Return MOLFILE_SUCCESS if no errors occur.     </td>
  </tr>
</table>
<a name="m7" doxytag="molfile_plugin_t::write_structure"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::write_structure)(void *, int optflags, const <a class="el" href="structmolfile__atom__t.html">molfile_atom_t</a> *atoms)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write structure information. Return success.     </td>
  </tr>
</table>
<a name="m8" doxytag="molfile_plugin_t::write_timestep"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int(*  molfile_plugin_t::write_timestep)(void *, const <a class="el" href="structmolfile__timestep__t.html">molfile_timestep_t</a> *)
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Write a timestep to the coordinate file. Return MOLFILE_SUCCESS if no errors occur. If the file contains structure information in each  timestep (like a multi-entry PDB), it will have to cache the information  from the initial calls from write_structure.     </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="molfile__plugin_8h-source.html">molfile_plugin.h</a></ul>
<hr><address><small>Generated on Wed Mar 22 13:15:36 2006 for VMD Plugins (current) by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
